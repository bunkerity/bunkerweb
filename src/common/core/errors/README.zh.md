错误插件为您的网站提供了可定制的错误处理，让您可以配置 HTTP 错误响应如何向用户显示。此功能通过呈现用户友好、带有品牌标识的错误页面，在错误场景中增强了用户体验，而不是显示默认的服务器错误页面，后者对访问者来说可能显得技术性且令人困惑。

**工作原理：**

1.  当客户端遇到 HTTP 错误（例如，400、404 或 500）时，BunkerWeb 会拦截错误响应。
2.  BunkerWeb 会显示一个自定义的、专业设计的错误页面，而不是显示默认的错误页面。
3.  错误页面可以通过您的配置完全定制，允许您为特定的错误代码指定自定义页面。**自定义错误页面文件必须放置在由 `ROOT_FOLDER` 设置定义的目录中（请参阅杂项插件文档）。**
    - 默认情况下，`ROOT_FOLDER` 是 `/var/www/html/{server_name}`（其中 `{server_name}` 会被实际的服务器名称替换）。
    - 在多站点模式下，每个站点都可以有自己的 `ROOT_FOLDER`，因此自定义错误页面必须放置在每个站点的相应目录中。
4.  默认的错误页面提供了清晰的解释，帮助用户了解出了什么问题以及他们接下来可以做什么。

### 如何使用

请按照以下步骤配置和使用错误功能：

1.  **定义自定义错误页面：** 使用 `ERRORS` 设置指定哪些 HTTP 错误代码应使用自定义错误页面。自定义错误页面文件必须位于为该站点指定的 `ROOT_FOLDER` 设置的文件夹中。在多站点模式下，这意味着每个站点/服务器都可以有自己的自定义错误页面文件夹。
2.  **配置您的错误页面：** 对于每个错误代码，您可以使用默认的 BunkerWeb 错误页面或提供您自己的自定义 HTML 页面（放置在相应的 `ROOT_FOLDER` 中）。
3.  **设置拦截的错误代码：** 使用 `INTERCEPTED_ERROR_CODES` 设置选择哪些错误代码应始终由 BunkerWeb 处理。
4.  **让 BunkerWeb 处理其余部分：** 配置完成后，错误处理会自动对所有指定的错误代码进行。

### 配置设置

| 设置                      | 默认值                                            | 上下文    | 多个 | 描述                                                                                                     |
| ------------------------- | ------------------------------------------------- | --------- | ---- | -------------------------------------------------------------------------------------------------------- |
| `ERRORS`                  |                                                   | multisite | 否   | **自定义错误页面：** 使用 `ERROR_CODE=/path/to/file.html` 的格式将特定的错误代码映射到自定义 HTML 文件。 |
| `INTERCEPTED_ERROR_CODES` | `400 401 403 404 405 413 429 500 501 502 503 504` | multisite | 否   | **拦截的错误：** 当未指定自定义页面时，BunkerWeb 应使用其默认错误页面处理的 HTTP 错误代码列表。          |

!!! tip "错误页面设计"
    默认的 BunkerWeb 错误页面旨在提供信息、用户友好且外观专业。它们包括：

    -   清晰的错误描述
    -   关于可能导致错误原因的信息
    -   建议用户解决问题的操作
    -   帮助用户了解问题是出在客户端还是服务器端的视觉指示器

!!! info "错误类型"
    错误代码按类型分类：

    -   **4xx 错误（客户端）：** 这些表示客户端请求存在问题，例如试图访问不存在的页面或缺少适当的身份验证。
    -   **5xx 错误（服务器端）：** 这些表示服务器无法满足有效请求，例如内部服务器错误或暂时不可用。

### 示例配置

=== "默认错误处理"

    让 BunkerWeb 使用其默认的错误页面处理常见的错误代码：

    ```yaml
    INTERCEPTED_ERROR_CODES: "400 401 403 404 405 413 429 500 501 502 503 504"
    ```

=== "自定义错误页面"

    为特定的错误代码使用自定义错误页面：

    ```yaml
    ERRORS: "404=/custom/404.html 500=/custom/500.html"
    INTERCEPTED_ERROR_CODES: "400 401 403 404 405 413 429 500 501 502 503 504"
    ```

=== "选择性错误处理"

    仅使用 BunkerWeb 处理特定的错误代码：

    ```yaml
    INTERCEPTED_ERROR_CODES: "404 500"
    ```
