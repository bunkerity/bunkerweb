
{% set current_endpoint = url_for(request.endpoint)[1:].split("/")[-1].strip().replace('_', '-')
%}
<div {{current_endpoint}}-tabs class="col-span-12 grid grid-cols-12 {% if current_endpoint == 'services' %}mb-4{% endif %}">
  <!-- desktop tabs -->
  <div {{current_endpoint}}-tabs-desktop class="hidden md:block col-span-12">
    {% if current_endpoint != "services" %}
    <!-- general tab -->
    <button
      {{current_endpoint}}-item-handler="general"
      type="button"
      class="  border-primary dark:hover:bg-slate-800 dark:border-slate-600 dark:bg-slate-700 dark:text-gray-300 border my-1 relative inline-block px-3 py-3 font-bold text-center uppercase align-middle transition-all rounded-none cursor-pointer bg-white hover:bg-gray-100 leading-normal text-sm ease-in tracking-tight-rem shadow-xs hover:shadow-md"
    >
      <div class="w-full flex justify-between items-center">
        <!-- text and icon -->
        <span class="text-primary transition duration-300 ease-in-out dark:opacity-90 pl-3 pr-2 dark:text-gray-300">{% if current_endpoint != "services" %}general {% else %} {% endif %} </span>
        <svg
          {{current_endpoint}}-info-btn="general"
          class="fill-blue-500 h-5 w-5 mr-2 hover:brightness-75"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            {{current_endpoint}}-info-btn="general"
            d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"
          />
        </svg>
        <!-- end text and icon -->
        <!-- popover -->
        <div
          {{current_endpoint}}-info-popover="general"
          class="hidden transition z-50 rounded-md p-3 left-0 absolute translate-y-6 bg-blue-500"
        >
          <p class="font-bold text-sm text-white m-0">
            General config : HTTP, DNS, LOG, API...
          </p>
        </div>
        <!-- end popover -->
      </div>
    </button>
    <!-- end general tab-->
    {% endif %}
    <!-- tabs -->
    {% for plugin in config["CONFIG"].get_plugins() %} {% if current_endpoint == "services" and plugin["settings"]
    and check_settings(plugin["settings"], "multisite") or current_endpoint == "global-config" and plugin["settings"]
    and check_settings(plugin["settings"], "global") %}
    <button
    {{current_endpoint}}-item-handler="{{ plugin['id'] }}"
    type="button"
    class=" border-primary dark:hover:bg-slate-800 dark:border-slate-600 dark:bg-slate-700  border my-1 relative inline-block px-3 py-3 font-bold text-center uppercase align-middle transition-all rounded-none cursor-pointer bg-white hover:bg-gray-100 leading-normal text-sm ease-in tracking-tight-rem shadow-xs hover:shadow-md"
  >
    <div clas="w-full flex justify-between items-center">
      <!-- text and icon -->
      <span class="text-primary transition duration-300 ease-in-out dark:opacity-90 pl-3 pr-2 dark:text-gray-300"> {{ plugin["name"] }} </span>
      <svg
        {{current_endpoint}}-info-btn="{{ plugin["name"] }}"
        class=" fill-blue-500 h-5 w-5 mr-2 hover:brightness-75"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
      >
        <path         {{current_endpoint}}-info-btn="{{ plugin["name"] }}"
  
          d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"
        />
      </svg>
      <!-- end text and icon -->
      <!-- popover -->
      <div
        {{current_endpoint}}-info-popover="{{ plugin["name"] }}"
        class="hidden transition z-50 rounded-md p-3 left-0 absolute translate-y-6 bg-blue-500"
      >
        <p class="font-bold text-sm text-white m-0">{{ plugin['description'] }}</p>
      </div>
      <!-- end popover -->
    </div>
  </button>
    {% endif %} {% endfor %}
    <!--end tabs-->
  </div>
  <!-- end desktop tabs -->
 <!-- mobile tabs -->
 <div {{current_endpoint}}-tabs-mobile class="md:hidden relative col-span-12 h-full">
  <button
  {{current_endpoint}}-mobile-select
    type="button"
    class="dark:hover:brightness-90 dark:border-slate-600 dark:bg-slate-700  border-primary border w-full flex items-center justify-between rounded-lg hover:-translate-y-px my-1 px-6 py-3 font-bold text-center  uppercase align-middle transition-all cursor-pointer bg-white hover:bg-gray-50 leading-normal text-sm ease-in tracking-tight-rem shadow-xs hover:shadow-md"
  >
    <span class="transition duration-300 ease-in-out dark:opacity-90 dark:text-gray-300 text-primary"></span>
    <!-- chevron -->
    <svg
      {{current_endpoint}}-mobile-chevron
      class="transition-transform h-4 w-4 fill-primary dark:fill-gray-300"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 512 512"
    >
      <path
        d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"
      />
    </svg>
    <!-- end chevron -->
  </button>
  <!-- dropdown-->
  <div
    {{current_endpoint}}-mobile-dropdown
    class="hidden z-100 absolute flex-col w-full overflow-hidden overflow-y-auto  max-h-90"
  >
  {% if current_endpoint != "services" %}

  <!-- general button-->
  <button
  {{current_endpoint}}-mobile-item-handler="general"
    type="button"
    data-select="false"
    class="flex justify-between border-t rounded-t border-b border-l border-r border-gray-300 dark:hover:brightness-90 hover:brightness-90 bg-primary dark:bg-primary my-0 relative px-6 py-2  text-center  align-middle transition-all rounded-none cursor-pointer leading-normal text-sm ease-in tracking-tight-rem dark:border-slate-600  dark:text-gray-300 text-gray-300"    >
      General
    <svg
    {{current_endpoint}}-info-btn="general"
    class="fill-blue-500 h-5 w-5 mr-2 hover:brightness-75"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 512 512"
  >
    <path         {{current_endpoint}}-info-btn="general"

      d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"
    />
  </svg>
  <!-- popover -->
  <div
    {{current_endpoint}}-info-popover="general-mobile"
    class="hidden transition z-50 rounded-md p-3 top-0 right-0 absolute -translate-y-12 bg-blue-500"
  >
    <p class="transition duration-300 ease-in-out dark:opacity-90 font-bold text-sm text-white m-0">General config : HTTP, DNS, LOG, API...</p>
  </div>
  <!-- end popover -->
  </button>
  <!-- end general button-->
  {% endif %}

  {% for plugin in config["CONFIG"].get_plugins() %}  {% if current_endpoint == "services" and plugin["settings"]
  and check_settings(plugin["settings"], "multisite") or current_endpoint == "global-config" and plugin["settings"]
  and check_settings(plugin["settings"], "global") %}
    <button
    {{current_endpoint}}-mobile-item-handler="{{ plugin['id'] }}"
      type="button"
      data-select="false"
      id="edit-{{current_endpoint}}-{{ plugin['id'] }}-tab"
      class="flex justify-between {% if loop.index == 1 %} border-t rounded-t {% endif %} {% if loop.index == loop.length %}rounded-b {% endif %} border-b border-l border-r border-gray-300 dark:hover:brightness-90 hover:brightness-90  bg-white text-gray-700 my-0 relative px-6 py-2  text-center  align-middle transition-all rounded-none cursor-pointer leading-normal text-sm ease-in tracking-tight-rem dark:border-slate-600 dark:bg-slate-700 dark:text-gray-300">
      {{ plugin["name"] }}
      <svg
      {{current_endpoint}}-info-btn="{{ plugin["name"] }}-mobile"
      class="fill-blue-500 h-5 w-5 mr-2 hover:brightness-75"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 512 512"
    >
      <path  {{current_endpoint}}-info-btn="{{ plugin["name"] }}-mobile"

        d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"
      />
    </svg>
    <!-- popover -->
    <div
      {{current_endpoint}}-info-popover="{{ plugin["name"] }}-mobile"
      class="hidden transition z-50 rounded-md p-3 top-0 right-0 absolute -translate-y-12 bg-blue-500"
    >
      <p class="transition duration-300 ease-in-out dark:opacity-90 font-bold text-sm text-white m-0">{{ plugin['description'] }}</p>
    </div>
    <!-- end popover -->
    </button>
    {% endif %} {% endfor %}
  </div>
  <!-- end dropdown-->
</div>
<!-- end mobile tabs -->

</div>
