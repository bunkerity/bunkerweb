
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation of BunkerWeb, the open source and next generation WAF.">
      
      
      
        <link rel="canonical" href="https://docs.bunkerweb.io/latest/zh/integrations/">
      
      
        <link rel="prev" href="../concepts/">
      
      
        <link rel="next" href="../quickstart-guide/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>ÈõÜÊàê - BunkerWeb ÊñáÊ°£</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
      


    
    
    <script async
            defer
            data-domain="docs.bunkerweb.io"
            src="https://data.bunkerity.com/js/script.js"></script>

    <script defer>
      window.addEventListener('DOMContentLoaded', (e) => {

        const customHeaders = document.querySelectorAll('[data-custom-header]')
        customHeaders.forEach(header => {
          const getHeaders = document.querySelectorAll(`#${header.getAttribute('id')}`);
          getHeaders.forEach(el => {

            if(!el.hasAttribute('data-custom-header')) el.remove()
        })})
      })
    </script>

    <script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script>

    <script defer>
  // Lazy load images and embed youtube videos
  window.addEventListener("load", () => {
    document.querySelectorAll("[data-src]").forEach((el) => {
      el.setAttribute("src", el.getAttribute("data-src"));
    });
  });
  // Add missing label
  try {
    document
      .querySelector('div.md-search[data-md-component="search"][role="dialog"]')
      .setAttribute("aria-label", "Search in documentation");
  } catch (err) {}
    </script>

    <script defer>
      window.addEventListener('DOMContentLoaded', () => {
        const bannerEl = document.querySelector('aside.md-banner');
        let defaultContent = [{ "content" : '<p>Get the most of BunkerWeb by upgrading to the PRO version. Click <a style="text-decoration:underline; color :  white;" href="https://panel.bunkerweb.io/store/bunkerweb-pro?utm_campaign=self&utm_source=doc">here</a> and use the <strong>freetrial</strong> promo code to get started.</p>'},
        { "content" : '<p>Need premium support or tailored consulting around BunkerWeb ? Check out our <a style="text-decoration:underline; color :  white;" href="https://panel.bunkerweb.io/?utm_campaign=self&utm_source=doc#services">professional services</a>.</p>'},
        { "content" : '<p>Be part of the Bunker community by joining the <a style="text-decoration:underline; color: white;" href="https://discord.bunkerweb.io">Discord chat</a> and following us on <a style="text-decoration:underline; color: white;" href="https://www.linkedin.com/company/bunkerity/">LinkedIn</a>.</p>'}
        ]

      function setBannerStyle() {
        const bannerItem = bannerEl.querySelector('.md-banner__inner');
        bannerEl.style.backgroundColor = "#2eac68";
        bannerItem.style.textAlign = "center";
        bannerItem.style.transition = "all 0.5s ease-out";
      }

      function setDefault() {
        const bannerItem = bannerEl.querySelector('.md-banner__inner');
        const clone = bannerItem.cloneNode(true);
        clone.innerHTML = defaultContent[0]["content"];
        bannerEl.replaceChild(clone, bannerItem);
      }

      function startBannerLoop() {
        const switchDelay = 7000;
        let i = 0;

        setInterval(() => {
          // Update or reset index
          if(i + 1 === defaultContent.length) {
            i = 0;
          } else {
            i++;
          }

          // Prepare data with next el with opacity 0 too
          const currItem = bannerEl.querySelector('.md-banner__inner');
          currItem.style.opacity = 0;
          const clone = currItem.cloneNode(true);
          clone.innerHTML = defaultContent[i]["content"];
          setTimeout(() => {
            bannerEl.replaceChild(clone, currItem);
            setTimeout(() => {
              const newItem = bannerEl.querySelector('.md-banner__inner');
              newItem.style.opacity = 1;
            }, 20);
          }, 600);

        }, switchDelay);
      }

      function runBanner() {
        startBannerLoop();
        // Try to get dynamic content
        // Else keep static ones
        // fetch("https://www.bunkerweb.io/api/bw-ui-news")
        // .then((res) => {
        //   return res.json();
        // })
        // .then((res) => {
        //   defaultContent = res.data[0].data;
        //   startBannerLoop();
        // })
        // .catch((e) => {
        //   startBannerLoop();
        // });
      }

        setBannerStyle();
        setDefault();
        runBanner()

      })
    </script>

    
      
    
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="ÈõÜÊàê - BunkerWeb ÊñáÊ°£" >
      
        <meta  property="og:description"  content="Documentation of BunkerWeb, the open source and next generation WAF." >
      
        <meta  property="og:image"  content="https://docs.bunkerweb.io/latest/assets/images/social/zh/integrations.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://docs.bunkerweb.io/latest/zh/integrations/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="ÈõÜÊàê - BunkerWeb ÊñáÊ°£" >
      
        <meta  name="twitter:description"  content="Documentation of BunkerWeb, the open source and next generation WAF." >
      
        <meta  name="twitter:image"  content="https://docs.bunkerweb.io/latest/assets/images/social/zh/integrations.png" >
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Ë∑≥ËΩ¨Ëá≥
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
    üì¢ Looking for BunkerWeb CLOUD, PRO version, technical support or tailored services ? Visit the
    <a href="https://panel.bunkerweb.io/?utm_campaign=self&utm_source=doc"
       style="color: #3f6ec6;
              text-decoration: underline">BunkerWeb Panel</a>
    for more information on our enterprise offers.

          </div>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
    You're not viewing the
    documentation of the latest version.
    <a href="../../..">
        <strong>Click here to view latest.</strong>
    </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="È°µÁúâ">
    <a href="../" title="BunkerWeb ÊñáÊ°£" class="md-header__button md-logo" aria-label="BunkerWeb ÊñáÊ°£" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BunkerWeb ÊñáÊ°£
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ÈõÜÊàê
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="ÈÄâÊã©ÂΩìÂâçËØ≠Ë®Ä">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../integrations/" hreflang="en" class="md-select__link">
              English - üá¨üáß
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../fr/integrations/" hreflang="fr" class="md-select__link">
              Fran√ßais - üá´üá∑
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../de/integrations/" hreflang="de" class="md-select__link">
              Deutsch - üá©üá™
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../es/integrations/" hreflang="es" class="md-select__link">
              Espa√±ol - üá™üá∏
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="zh" class="md-select__link">
              ‰∏≠Êñá - üá®üá≥
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="ÊêúÁ¥¢" placeholder="ÊêúÁ¥¢" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Êü•Êâæ">
        
        <button type="reset" class="md-search__icon md-icon" title="Ê∏ÖÁ©∫ÂΩìÂâçÂÜÖÂÆπ" aria-label="Ê∏ÖÁ©∫ÂΩìÂâçÂÜÖÂÆπ" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Ê≠£Âú®ÂàùÂßãÂåñÊêúÁ¥¢ÂºïÊìé
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/bunkerity/bunkerweb" title="ÂâçÂæÄ‰ªìÂ∫ì" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Ê†áÁ≠æ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link">
        
  
  
    
  
  ‰ªãÁªç

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../concepts/" class="md-tabs__link">
        
  
  
    
  
  Ê¶ÇÂøµ

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  ÈõÜÊàê

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../quickstart-guide/" class="md-tabs__link">
        
  
  
    
  
  Âø´ÈÄüÂÖ•Èó®ÊåáÂçó

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../features/" class="md-tabs__link">
        
  
  
    
  
  ÂäüËÉΩ

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../advanced/" class="md-tabs__link">
        
  
  
    
  
  È´òÁ∫ßÁî®Ê≥ï

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../web-ui/" class="md-tabs__link">
        
  
  
    
  
  Web ÁïåÈù¢

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api/" class="md-tabs__link">
        
  
  
    
  
  API

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../upgrading/" class="md-tabs__link">
        
  
  
    
  
  ÂçáÁ∫ß

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../troubleshooting/" class="md-tabs__link">
        
  
  
    
  
  ÊïÖÈöúÊéíÈô§

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../plugins/" class="md-tabs__link">
        
  
  
    
  
  Êèí‰ª∂

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../professional-services/" class="md-tabs__link">
        
  
  
    
  
  ‰∏ì‰∏öÊúçÂä°

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../about/" class="md-tabs__link">
        
  
  
    
  
  ÂÖ≥‰∫é

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="ÂØºËà™Ê†è" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../" title="BunkerWeb ÊñáÊ°£" class="md-nav__button md-logo" aria-label="BunkerWeb ÊñáÊ°£" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    BunkerWeb ÊñáÊ°£
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bunkerity/bunkerweb" title="ÂâçÂæÄ‰ªìÂ∫ì" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‰ªãÁªç
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ê¶ÇÂøµ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    ÈõÜÊàê
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    ÈõÜÊàê
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="ÁõÆÂΩï">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      ÁõÆÂΩï
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#bunkerweb" class="md-nav__link">
    <span class="md-ellipsis">
      BunkerWeb ‰∫ë
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aio" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏Ä‰ΩìÂåñ (AIO) ÈïúÂÉè
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‰∏Ä‰ΩìÂåñ (AIO) ÈïúÂÉè">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÉ®ÁΩ≤
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      API ÈõÜÊàê
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      ËÆøÈóÆËÆæÁΩÆÂêëÂØº
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis" class="md-nav__link">
    <span class="md-ellipsis">
      Redis ÈõÜÊàê
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crowdsec" class="md-nav__link">
    <span class="md-ellipsis">
      CrowdSec ÈõÜÊàê
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CrowdSec ÈõÜÊàê">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      ÈªòËÆ§ÈõÜÂêàÂíåËß£ÊûêÂô®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Ê∑ªÂä†È¢ùÂ§ñÁöÑÈõÜÂêà
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Á¶ÅÁî®ÁâπÂÆöËß£ÊûêÂô®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appsec" class="md-nav__link">
    <span class="md-ellipsis">
      AppSec ÂºÄÂÖ≥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crowdsec-api" class="md-nav__link">
    <span class="md-ellipsis">
      Â§ñÈÉ® CrowdSec API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî® Docker secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Ë∞ÉÂ∫¶Âô®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      ÁΩëÁªú
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compose" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆåÊï¥ÁöÑ compose Êñá‰ª∂
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linux" class="md-nav__link">
    <span class="md-ellipsis">
      Linux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      ÁÆÄÊòìÂÆâË£ÖËÑöÊú¨
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÁÆÄÊòìÂÆâË£ÖËÑöÊú¨">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      Âø´ÈÄüÂºÄÂßã
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      Â∑•‰ΩúÂéüÁêÜ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∫§‰∫íÂºèÂÆâË£Ö
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      ÂëΩ‰ª§Ë°åÈÄâÈ°π
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crowdsec_1" class="md-nav__link">
    <span class="md-ellipsis">
      CrowdSec ‰∏éËÑöÊú¨ÁöÑÈõÜÊàê
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rhel" class="md-nav__link">
    <span class="md-ellipsis">
      RHEL Ê≥®ÊÑè‰∫ãÈ°π
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆâË£ÖÂêé
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî®ÂåÖÁÆ°ÁêÜÂô®ÂÆâË£Ö
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      ÈÖçÁΩÆÂíåÊúçÂä°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      È´òÂèØÁî®ÊÄß
    </span>
  </a>
  
    <nav class="md-nav" aria-label="È´òÂèØÁî®ÊÄß">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      ÁÆ°ÁêÜÂô®
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      Â∑•‰ΩúËäÇÁÇπ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Web UI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Ëá™Âä®ÈÖçÁΩÆ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker Ëá™Âä®ÈÖçÁΩÆ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      Ëá™Âä®ÈÖçÁΩÆÊúçÂä°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      ÂëΩÂêçÁ©∫Èó¥
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆâË£ÖÊñπÊ≥ï
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ÂÆâË£ÖÊñπÊ≥ï">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#helm-chart" class="md-nav__link">
    <span class="md-ellipsis">
      ‰ΩøÁî® helm chartÔºàÊé®ËçêÔºâ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yaml" class="md-nav__link">
    <span class="md-ellipsis">
      ÂÆåÊï¥ÁöÑ YAML Êñá‰ª∂
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingress" class="md-nav__link">
    <span class="md-ellipsis">
      Ingress ËµÑÊ∫ê
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      ÂëΩÂêçÁ©∫Èó¥
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingress_1" class="md-nav__link">
    <span class="md-ellipsis">
      Ingress Á±ª
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      Ëá™ÂÆö‰πâÂüüÂêç
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ingress_2" class="md-nav__link">
    <span class="md-ellipsis">
      ‰∏éÁé∞Êúâ ingress ÊéßÂà∂Âô®‰∏ÄËµ∑‰ΩøÁî®
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‰∏éÁé∞Êúâ ingress ÊéßÂà∂Âô®‰∏ÄËµ∑‰ΩøÁî®">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nginx-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      nginx ingress ÊéßÂà∂Âô®ÂÆâË£Ö
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#swarm" class="md-nav__link">
    <span class="md-ellipsis">
      Swarm
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Swarm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#swarm_1" class="md-nav__link">
    <span class="md-ellipsis">
      Swarm ÊúçÂä°
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      ÂëΩÂêçÁ©∫Èó¥
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#microsoft-azure" class="md-nav__link">
    <span class="md-ellipsis">
      Microsoft Azure
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Âø´ÈÄüÂÖ•Èó®ÊåáÂçó
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂäüËÉΩ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    È´òÁ∫ßÁî®Ê≥ï
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../web-ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web ÁïåÈù¢
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂçáÁ∫ß
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÊïÖÈöúÊéíÈô§
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Êèí‰ª∂
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../professional-services/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‰∏ì‰∏öÊúçÂä°
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ÂÖ≥‰∫é
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="_1">ÈõÜÊàê</h1>
<h2 id="bunkerweb">BunkerWeb ‰∫ë</h2>
<figure>
<p><img align="center," alt="Ê¶ÇËø∞" src="../../assets/img/bunkerweb-cloud.webp" width="600" />
  </p>
<figcaption>BunkerWeb ‰∫ë</figcaption>
</figure>
<p>BunkerWeb Cloud Â∞ÜÊòØÂºÄÂßã‰ΩøÁî® BunkerWeb ÁöÑÊúÄÁÆÄÂçïÊñπÂºè„ÄÇÂÆÉ‰∏∫ÊÇ®Êèê‰æõ‰∏Ä‰∏™ÂÆåÂÖ®ÊâòÁÆ°ÁöÑ BunkerWeb ÊúçÂä°ÔºåÊó†ÈúÄ‰ªª‰ΩïÈ∫ªÁÉ¶„ÄÇÂèØ‰ª•ÊääÂÆÉÊÉ≥Ë±°Êàê‰∏Ä‰∏™ BunkerWeb Âç≥ÊúçÂä°ÔºÅ</p>
<p>ËØïËØïÊàë‰ª¨ÁöÑ <a href="https://panel.bunkerweb.io/contact.php?utm_campaign=self&amp;utm_source=doc">BunkerWeb Cloud ÊúçÂä°</a>ÔºåÊÇ®Â∞ÜËé∑ÂæóÔºö</p>
<ul>
<li>‰∏Ä‰∏™ÂÆåÂÖ®ÊâòÁÆ°Âú®Êàë‰ª¨‰∫ëÁ´ØÁöÑ BunkerWeb ÂÆû‰æã</li>
<li>ÊâÄÊúâ BunkerWeb ÂäüËÉΩÔºåÂåÖÊã¨ PRO ÂäüËÉΩ</li>
<li>‰∏Ä‰∏™Â∏¶Êúâ‰ª™Ë°®ÊùøÂíåË≠¶Êä•ÁöÑÁõëÊéßÂπ≥Âè∞</li>
<li>ÂçèÂä©ÊÇ®ËøõË°åÈÖçÁΩÆÁöÑÊäÄÊúØÊîØÊåÅ</li>
</ul>
<p>Â¶ÇÊûúÊÇ®ÂØπ BunkerWeb Cloud ÊúçÂä°ÊÑüÂÖ¥Ë∂£ÔºåËØ∑ÈöèÊó∂<a href="https://panel.bunkerweb.io/contact.php?utm_campaign=self&amp;utm_source=doc">ËÅîÁ≥ªÊàë‰ª¨</a>Ôºå‰ª•‰æøÊàë‰ª¨ËÆ®ËÆ∫ÊÇ®ÁöÑÈúÄÊ±Ç„ÄÇ</p>
<h2 id="aio">‰∏Ä‰ΩìÂåñ (AIO) ÈïúÂÉè</h2>
<figure>
<p><img align="center," alt="AIO Êû∂ÊûÑÂõæÂç†‰ΩçÁ¨¶" src="../../assets/img/aio-graph-placeholder.png" width="600" />
  </p>
<figcaption>BunkerWeb ‰∏Ä‰ΩìÂåñÊû∂ÊûÑ (AIO)</figcaption>
</figure>
<h3 id="_2">ÈÉ®ÁΩ≤</h3>
<p>Ë¶ÅÈÉ®ÁΩ≤‰∏Ä‰ΩìÂåñÂÆπÂô®ÔºåÊÇ®Âè™ÈúÄËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>bunkerweb-aio<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">80</span>:8080/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/udp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>bunkerity/bunkerweb-all-in-one:testing-rc3
</code></pre></div>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÆπÂô®Êö¥Èú≤Ôºö</p>
<ul>
<li>8080/tcp Áî®‰∫é HTTP</li>
<li>8443/tcp Áî®‰∫é HTTPS</li>
<li>8443/udp Áî®‰∫é QUIC</li>
<li>7000/tcp Áî®‰∫éÂú®Ê≤°Êúâ BunkerWeb ÂâçÁΩÆÁöÑÊÉÖÂÜµ‰∏ãÁöÑ Web UI ËÆøÈóÆÔºà‰∏çÂª∫ËÆÆÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠‰ΩøÁî®Ôºâ</li>
<li>ÂΩì <code>SERVICE_API=yes</code> Êó∂Ôºå8888/tcp Áî®‰∫é APIÔºàÂÜÖÈÉ®‰ΩøÁî®ÔºõÂª∫ËÆÆÈÄöËøá BunkerWeb ‰Ωú‰∏∫ÂèçÂêë‰ª£ÁêÜÊö¥Èú≤ÔºåËÄå‰∏çÊòØÁõ¥Êé•ÂèëÂ∏ÉÔºâ</li>
</ul>
<p>‰∏Ä‰ΩìÂåñÈïúÂÉèÂÜÖÁΩÆ‰∫ÜÂá†‰∏™ÊúçÂä°ÔºåÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÊù•ÊéßÂà∂Ôºö</p>
<ul>
<li><code>SERVICE_UI=yes</code> (ÈªòËÆ§) - ÂêØÁî® Web UI ÊúçÂä°</li>
<li><code>SERVICE_SCHEDULER=yes</code> (ÈªòËÆ§) - ÂêØÁî®Ë∞ÉÂ∫¶Âô®ÊúçÂä°</li>
<li><code>SERVICE_API=no</code> (ÈªòËÆ§) - ÂêØÁî® API ÊúçÂä° (FastAPI ÊéßÂà∂Âπ≥Èù¢)</li>
<li><code>AUTOCONF_MODE=no</code> (ÈªòËÆ§) - ÂêØÁî®Ëá™Âä®ÈÖçÁΩÆÊúçÂä°</li>
<li><code>USE_REDIS=yes</code> (ÈªòËÆ§) - ÂêØÁî®ÂÜÖÁΩÆÁöÑ <a href="#redis-ÈõÜÊàê">Redis</a> ÂÆû‰æã</li>
<li><code>USE_CROWDSEC=no</code> (ÈªòËÆ§) - <a href="#crowdsec-ÈõÜÊàê">CrowdSec</a> ÈõÜÊàêÈªòËÆ§Á¶ÅÁî®</li>
</ul>
<h3 id="api">API ÈõÜÊàê</h3>
<p>‰∏Ä‰ΩìÂåñÈïúÂÉèÂÜÖÂµå‰∫Ü BunkerWeb API„ÄÇÂÆÉÈªòËÆ§ÊòØÁ¶ÅÁî®ÁöÑÔºåÂèØ‰ª•ÈÄöËøáËÆæÁΩÆ <code>SERVICE_API=yes</code> Êù•ÂêØÁî®„ÄÇ</p>
<div class="admonition warning">
<p class="admonition-title">ÂÆâÂÖ®</p>
<p>API ÊòØ‰∏Ä‰∏™ÁâπÊùÉÊéßÂà∂Âπ≥Èù¢„ÄÇ‰∏çË¶ÅÁõ¥Êé•Â∞ÜÂÖ∂Êö¥Èú≤Âú®‰∫íËÅîÁΩë‰∏ä„ÄÇËØ∑Â∞ÜÂÖ∂‰øùÁïôÂú®ÂÜÖÈÉ®ÁΩëÁªú‰∏äÔºå‰ΩøÁî® <code>API_WHITELIST_IPS</code> ÈôêÂà∂Ê∫ê IPÔºåË¶ÅÊ±ÇË∫´‰ªΩÈ™åËØÅÔºà<code>API_TOKEN</code> Êàñ API Áî®Êà∑ + BiscuitÔºâÔºåÂπ∂ÊúÄÂ•ΩÈÄöËøá BunkerWeb ‰Ωú‰∏∫ÂèçÂêë‰ª£ÁêÜÂú®‰∏Ä‰∏™Èöæ‰ª•ÁåúÊµãÁöÑË∑ØÂæÑ‰∏äËÆøÈóÆÂÆÉ„ÄÇ</p>
</div>
<p>Âø´ÈÄüÂêØÁî®ÔºàÁã¨Á´ãÔºâ‚Äî ÂèëÂ∏É API Á´ØÂè£Ôºõ‰ªÖÁî®‰∫éÊµãËØïÔºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>bunkerweb-aio<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">SERVICE_API</span><span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">API_WHITELIST_IPS</span><span class="o">=</span><span class="s2">&quot;127.0.0.0/8&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">API_TOKEN</span><span class="o">=</span><span class="s2">&quot;changeme&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">80</span>:8080/tcp<span class="w"> </span>-p<span class="w"> </span><span class="m">443</span>:8443/tcp<span class="w"> </span>-p<span class="w"> </span><span class="m">443</span>:8443/udp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">8888</span>:8888/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>bunkerity/bunkerweb-all-in-one:testing-rc3
</code></pre></div>
<p>Êé®ËçêÔºàÂú® BunkerWeb ‰πãÂêéÔºâ‚Äî ‰∏çË¶ÅÂèëÂ∏É <code>8888</code>ÔºõËÄåÊòØÂèçÂêë‰ª£ÁêÜÂÆÉÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:8080/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/udp&quot;</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">SERVER_NAME</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;www.example.com&quot;</span>
<span class="w">      </span><span class="nt">MULTISITE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">DISABLE_DEFAULT_SERVER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">USE_REVERSE_PROXY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">REVERSE_PROXY_URL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/api-&lt;unguessable&gt;&quot;</span>
<span class="w">      </span><span class="nt">REVERSE_PROXY_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://bunkerweb-aio:8888&quot;</span>

<span class="w">  </span><span class="nt">bunkerweb-aio</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-all-in-one:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">SERVICE_API</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">API_WHITELIST_IPS</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.0/8</span><span class="nv"> </span><span class="s">10.20.30.0/24&quot;</span>
<span class="w">      </span><span class="c1"># ÂèØÈÄâÂú∞ËÆæÁΩÆ‰∏Ä‰∏™ÁÆ°ÁêÜÂëòË¶ÜÁõñ‰ª§Áâå</span>
<span class="w">      </span><span class="c1"># API_TOKEN: &quot;changeme&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-universe</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
</code></pre></div>
<p>ÊúâÂÖ≥Ë∫´‰ªΩÈ™åËØÅ„ÄÅÊùÉÈôê (ACL)„ÄÅÈÄüÁéáÈôêÂà∂„ÄÅTLS ÂíåÈÖçÁΩÆÈÄâÈ°πÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ <a href="../api/">API ÊñáÊ°£</a>„ÄÇ</p>
<h3 id="_3">ËÆøÈóÆËÆæÁΩÆÂêëÂØº</h3>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂΩìÊÇ®È¶ñÊ¨°ËøêË°å AIO ÂÆπÂô®Êó∂ÔºåËÆæÁΩÆÂêëÂØº‰ºöËá™Âä®ÂêØÂä®„ÄÇË¶ÅËÆøÈóÆÂÆÉÔºåËØ∑ÊåâÁÖß‰ª•‰∏ãÊ≠•È™§Êìç‰ΩúÔºö</p>
<ol>
<li><strong>ÂêØÂä® AIO ÂÆπÂô®</strong>ÔºåÂ¶Ç<a href="#deployment">‰∏äÊñá</a>ÊâÄËø∞ÔºåÁ°Æ‰øù <code>SERVICE_UI=yes</code> (ÈªòËÆ§)„ÄÇ</li>
<li>ÈÄöËøáÊÇ®ÁöÑ‰∏ªË¶Å BunkerWeb Á´ØÁÇπ<strong>ËÆøÈóÆ UI</strong>Ôºå‰æãÂ¶Ç <code>https://your-domain</code>„ÄÇ</li>
</ol>
<blockquote>
<p>ËØ∑ÊåâÁÖß<a href="../quickstart-guide/#complete-the-setup-wizard">Âø´ÈÄüÂÖ•Èó®ÊåáÂçó</a>‰∏≠ÁöÑÂêéÁª≠Ê≠•È™§ËÆæÁΩÆ Web UI„ÄÇ</p>
</blockquote>
<h3 id="redis">Redis ÈõÜÊàê</h3>
<p>BunkerWeb <strong>‰∏Ä‰ΩìÂåñ</strong>ÈïúÂÉèÂºÄÁÆ±Âç≥Áî®Âú∞ÂåÖÂê´‰∫Ü RedisÔºåÁî®‰∫é<a href="../advanced/#persistence-of-bans-and-reports">ÊåÅ‰πÖÂåñÂ∞ÅÁ¶ÅÂíåÊä•Âëä</a>„ÄÇË¶ÅÁÆ°ÁêÜ RedisÔºö</p>
<ul>
<li>Ë¶ÅÁ¶ÅÁî® RedisÔºåËØ∑ËÆæÁΩÆ <code>USE_REDIS=no</code> ÊàñÂ∞Ü <code>REDIS_HOST</code> ÊåáÂêë‰∏Ä‰∏™Â§ñÈÉ®‰∏ªÊú∫„ÄÇ</li>
<li>Redis Êó•ÂøóÂú® Docker Êó•ÂøóÂíå <code>/var/log/bunkerweb/redis.log</code> ‰∏≠‰ª• <code>[REDIS]</code> ÂâçÁºÄÂá∫Áé∞„ÄÇ</li>
</ul>
<h3 id="crowdsec">CrowdSec ÈõÜÊàê</h3>
<p>BunkerWeb <strong>‰∏Ä‰ΩìÂåñ</strong> Docker ÈïúÂÉèÂÆåÂÖ®ÈõÜÊàê‰∫Ü CrowdSec‚Äî‚ÄîÊó†ÈúÄÈ¢ùÂ§ñÁöÑÂÆπÂô®ÊàñÊâãÂä®ËÆæÁΩÆ„ÄÇËØ∑ÊåâÁÖß‰ª•‰∏ãÊ≠•È™§Âú®ÊÇ®ÁöÑÈÉ®ÁΩ≤‰∏≠ÂêØÁî®„ÄÅÈÖçÁΩÆÂíåÊâ©Â±ï CrowdSec„ÄÇ</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåCrowdSec ÊòØ<strong>Á¶ÅÁî®</strong>ÁöÑ„ÄÇË¶ÅÂºÄÂêØÂÆÉÔºåÂè™ÈúÄÊ∑ªÂä† <code>USE_CROWDSEC</code> ÁéØÂ¢ÉÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>bunkerweb-aio<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">USE_CROWDSEC</span><span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">80</span>:8080/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/udp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>bunkerity/bunkerweb-all-in-one:testing-rc3
</code></pre></div>
<ul>
<li>
<p>ÂΩì <code>USE_CROWDSEC=yes</code> Êó∂ÔºåÂÖ•Âè£ÁÇπÂ∞ÜÔºö</p>
<ol>
<li><strong>Ê≥®ÂÜå</strong>Âπ∂<strong>ÂêØÂä®</strong>Êú¨Âú∞ CrowdSec ‰ª£ÁêÜÔºàÈÄöËøá <code>cscli</code>Ôºâ„ÄÇ</li>
<li><strong>ÂÆâË£ÖÊàñÂçáÁ∫ß</strong>ÈªòËÆ§ÁöÑÈõÜÂêàÂíåËß£ÊûêÂô®„ÄÇ</li>
<li><strong>ÈÖçÁΩÆ</strong> <code>crowdsec-bunkerweb-bouncer/v1.6</code> Êã¶Êà™Âô®„ÄÇ</li>
</ol>
</li>
</ul>
<hr />
<h4 id="_4">ÈªòËÆ§ÈõÜÂêàÂíåËß£ÊûêÂô®</h4>
<p>Âú®È¶ñÊ¨°ÂêØÂä®Êó∂ÔºàÊàñÂçáÁ∫ßÂêéÔºâÔºåËøô‰∫õËµÑ‰∫ß‰ºöËá™Âä®ÂÆâË£ÖÂπ∂‰øùÊåÅÊúÄÊñ∞Ôºö</p>
<table>
<thead>
<tr>
<th>Á±ªÂûã</th>
<th>ÂêçÁß∞</th>
<th>ÁõÆÁöÑ</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ÈõÜÂêà</strong></td>
<td><code>crowdsecurity/nginx</code></td>
<td>‰øùÊä§ Nginx ÊúçÂä°Âô®ÂÖçÂèóÂêÑÁßçÂü∫‰∫é HTTP ÁöÑÊîªÂáªÔºå‰ªéÊö¥ÂäõÁ†¥Ëß£Âà∞Ê≥®ÂÖ•Â∞ùËØï„ÄÇ</td>
</tr>
<tr>
<td><strong>ÈõÜÂêà</strong></td>
<td><code>crowdsecurity/appsec-virtual-patching</code></td>
<td>Êèê‰æõ‰∏Ä‰∏™Âä®ÊÄÅÊõ¥Êñ∞ÁöÑ WAF È£éÊ†ºËßÑÂàôÈõÜÔºåÈíàÂØπÂ∑≤Áü•ÁöÑ CVEÔºåÊØèÊó•Ëá™Âä®‰øÆË°•‰ª•‰øùÊä§ Web Â∫îÁî®Á®ãÂ∫èÂÖçÂèóÊñ∞ÂèëÁé∞ÁöÑÊºèÊ¥ûÂΩ±Âìç„ÄÇ</td>
</tr>
<tr>
<td><strong>ÈõÜÂêà</strong></td>
<td><code>crowdsecurity/appsec-generic-rules</code></td>
<td>ÂØπ <code>crowdsecurity/appsec-virtual-patching</code> ËøõË°åË°•ÂÖÖÔºåÊèê‰æõÈíàÂØπÈÄöÁî®Â∫îÁî®Â±ÇÊîªÂáªÊ®°ÂºèÁöÑÂêØÂèëÂºèËßÑÂàô‚Äî‚Äî‰æãÂ¶ÇÊûö‰∏æ„ÄÅË∑ØÂæÑÈÅçÂéÜÂíåËá™Âä®ÂåñÊé¢Êµã‚Äî‚ÄîÂ°´Ë°•‰∫ÜÂ∞öÊó† CVE ÁâπÂÆöËßÑÂàôÁöÑÁ©∫ÁôΩ„ÄÇ</td>
</tr>
<tr>
<td><strong>Ëß£ÊûêÂô®</strong></td>
<td><code>crowdsecurity/geoip-enrich</code></td>
<td>Áî® GeoIP ‰∏ä‰∏ãÊñá‰∏∞ÂØå‰∫ã‰ª∂</td>
</tr>
</tbody>
</table>
<details>
<summary><strong>ÂÜÖÈÉ®Â∑•‰ΩúÂéüÁêÜ</strong></summary>

ÂÖ•Âè£ÁÇπËÑöÊú¨Ë∞ÉÁî®Ôºö

<div class="highlight"><pre><span></span><code>cscli<span class="w"> </span>install<span class="w"> </span>collection<span class="w"> </span>crowdsecurity/nginx
cscli<span class="w"> </span>install<span class="w"> </span>collection<span class="w"> </span>crowdsecurity/appsec-virtual-patching
cscli<span class="w"> </span>install<span class="w"> </span>collection<span class="w"> </span>crowdsecurity/appsec-generic-rules
cscli<span class="w"> </span>install<span class="w"> </span>parser<span class="w">     </span>crowdsecurity/geoip-enrich
</code></pre></div>

</details>

<hr />
<h4 id="_5">Ê∑ªÂä†È¢ùÂ§ñÁöÑÈõÜÂêà</h4>
<p>ÈúÄË¶ÅÊõ¥Â§öÁöÑË¶ÜÁõñËåÉÂõ¥Ôºü‰ΩøÁî®‰∏Ä‰∏™‰ª•Á©∫Ê†ºÂàÜÈöîÁöÑ Hub ÈõÜÂêàÂàóË°®Êù•ÂÆö‰πâ <code>CROWDSEC_EXTRA_COLLECTIONS</code>Ôºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>bunkerweb-aio<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">USE_CROWDSEC</span><span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CROWDSEC_EXTRA_COLLECTIONS</span><span class="o">=</span><span class="s2">&quot;crowdsecurity/apache2 crowdsecurity/mysql&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">80</span>:8080/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/udp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>bunkerity/bunkerweb-all-in-one:testing-rc3
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">ÂÜÖÈÉ®Â∑•‰ΩúÂéüÁêÜ</p>
<p>ËÑöÊú¨‰ºöÈÅçÂéÜÊØè‰∏™ÂêçÁß∞Âπ∂Ê†πÊçÆÈúÄË¶ÅËøõË°åÂÆâË£ÖÊàñÂçáÁ∫ß‚Äî‚ÄîÊó†ÈúÄÊâãÂä®Ê≠•È™§„ÄÇ</p>
</div>
<hr />
<h4 id="_6">Á¶ÅÁî®ÁâπÂÆöËß£ÊûêÂô®</h4>
<p>Â¶ÇÊûúÊÇ®ÊÉ≥‰øùÁïôÈªòËÆ§ËÆæÁΩÆ‰ΩÜÊòéÁ°ÆÁ¶ÅÁî®‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ëß£ÊûêÂô®ÔºåËØ∑ÈÄöËøá <code>CROWDSEC_DISABLED_PARSERS</code> Êèê‰æõ‰∏Ä‰∏™‰ª•Á©∫Ê†ºÂàÜÈöîÁöÑÂàóË°®Ôºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>bunkerweb-aio<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">USE_CROWDSEC</span><span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CROWDSEC_DISABLED_PARSERS</span><span class="o">=</span><span class="s2">&quot;crowdsecurity/geoip-enrich foo/bar-parser&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">80</span>:8080/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/udp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>bunkerity/bunkerweb-all-in-one:testing-rc3
</code></pre></div>
<p>Ê≥®ÊÑèÔºö
- ËØ•ÂàóË°®Âú®ÂÆâË£Ö/Êõ¥Êñ∞ÊâÄÈúÄÈ°πÁõÆÂêéÂ∫îÁî®ÔºõÂè™ÊúâÊÇ®ÂàóÂá∫ÁöÑËß£ÊûêÂô®‰ºöË¢´ÁßªÈô§„ÄÇ
- ‰ΩøÁî® <code>cscli parsers list</code> ÊòæÁ§∫ÁöÑ hub slugÔºà‰æãÂ¶ÇÔºå<code>crowdsecurity/geoip-enrich</code>Ôºâ„ÄÇ</p>
<hr />
<h4 id="appsec">AppSec ÂºÄÂÖ≥</h4>
<p>CrowdSec <a href="https://docs.crowdsec.net/docs/appsec/intro/?utm_source=external-docs&amp;utm_medium=cta&amp;utm_campaign=bunker-web-docs">AppSec</a> ÂäüËÉΩ‚Äî‚ÄîÁî± <code>appsec-virtual-patching</code> Âíå <code>appsec-generic-rules</code> ÈõÜÂêàÊèê‰æõÊîØÊåÅ‚Äî‚Äî<strong>ÈªòËÆ§ÂêØÁî®</strong>„ÄÇ</p>
<p>Ë¶Å<strong>Á¶ÅÁî®</strong>ÊâÄÊúâ AppSec (WAF/ËôöÊãüË°•‰∏Å) ÂäüËÉΩÔºåËØ∑ËÆæÁΩÆÔºö</p>
<div class="highlight"><pre><span></span><code>-e<span class="w"> </span><span class="nv">CROWDSEC_APPSEC_URL</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
</code></pre></div>
<p>ËøôÂÆûÈôÖ‰∏ä‰ºöÂÖ≥Èó≠ AppSec Á´ØÁÇπÔºåÂõ†Ê≠§‰∏ç‰ºöÂ∫îÁî®‰ªª‰ΩïËßÑÂàô„ÄÇ</p>
<hr />
<h4 id="crowdsec-api">Â§ñÈÉ® CrowdSec API</h4>
<p>Â¶ÇÊûúÊÇ®Êìç‰Ωú‰∏Ä‰∏™ËøúÁ®ã CrowdSec ÂÆû‰æãÔºåËØ∑Â∞ÜÂÆπÂô®ÊåáÂêëÊÇ®ÁöÑ APIÔºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>-d<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span>bunkerweb-aio<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">USE_CROWDSEC</span><span class="o">=</span>yes<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-e<span class="w"> </span><span class="nv">CROWDSEC_API</span><span class="o">=</span><span class="s2">&quot;https://crowdsec.example.com:8000&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">80</span>:8080/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/tcp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-p<span class="w"> </span><span class="m">443</span>:8443/udp<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>bunkerity/bunkerweb-all-in-one:testing-rc3<span class="sb">```</span>

*<span class="w">   </span>ÂΩì<span class="w"> </span><span class="sb">`</span>CROWDSEC_API<span class="sb">`</span><span class="w"> </span>‰∏çÊòØ<span class="w"> </span><span class="sb">`</span><span class="m">127</span>.0.0.1<span class="sb">`</span><span class="w"> </span>Êàñ<span class="w"> </span><span class="sb">`</span>localhost<span class="sb">`</span><span class="w"> </span>Êó∂ÔºåÂ∞ÜË∑≥Ëøá**Êú¨Âú∞Ê≥®ÂÜå**„ÄÇ
*<span class="w">   </span>‰ΩøÁî®Â§ñÈÉ®<span class="w"> </span>API<span class="w"> </span>Êó∂Ôºå**AppSec**<span class="w"> </span>ÈªòËÆ§ÊòØÁ¶ÅÁî®ÁöÑ„ÄÇË¶ÅÂêØÁî®ÂÆÉÔºåËØ∑Â∞Ü<span class="w"> </span><span class="sb">`</span>CROWDSEC_APPSEC_URL<span class="sb">`</span><span class="w"> </span>ËÆæÁΩÆ‰∏∫ÊÇ®ÊúüÊúõÁöÑÁ´ØÁÇπ„ÄÇ
*<span class="w">   </span>Êã¶Êà™Âô®Ê≥®ÂÜå‰ªçÁÑ∂‰ºöÈíàÂØπËøúÁ®ã<span class="w"> </span>API<span class="w"> </span>ËøõË°å„ÄÇ
*<span class="w">   </span>Ë¶ÅÈáçÁî®Áé∞ÊúâÁöÑÊã¶Êà™Âô®ÂØÜÈí•ÔºåËØ∑Êèê‰æõ<span class="w"> </span><span class="sb">`</span>CROWDSEC_API_KEY<span class="sb">`</span><span class="w"> </span>Âπ∂ÈôÑ‰∏äÊÇ®È¢ÑÂÖàÁîüÊàêÁöÑ‰ª§Áâå„ÄÇ

---

!!!<span class="w"> </span>tip<span class="w"> </span><span class="s2">&quot;Êõ¥Â§öÈÄâÈ°π&quot;</span>
<span class="w">    </span>ÊúâÂÖ≥ÊâÄÊúâ<span class="w"> </span>CrowdSec<span class="w"> </span>ÈÄâÈ°πÁöÑÂÖ®Èù¢‰ªãÁªçÔºàËá™ÂÆö‰πâÂú∫ÊôØ„ÄÅÊó•Âøó„ÄÅÊïÖÈöúÊéíÈô§Á≠âÔºâÔºåËØ∑ÂèÇÈòÖ<span class="w"> </span><span class="o">[</span>BunkerWeb<span class="w"> </span>CrowdSec<span class="w"> </span>Êèí‰ª∂ÊñáÊ°£<span class="o">](</span>features.md#crowdsec<span class="o">)</span>ÊàñËÆøÈóÆ<span class="o">[</span>ÂÆòÊñπ<span class="w"> </span>CrowdSec<span class="w"> </span>ÁΩëÁ´ô<span class="o">](</span>https://www.crowdsec.net/?utm_source<span class="o">=</span>external-docs<span class="p">&amp;</span><span class="nv">utm_medium</span><span class="o">=</span>cta<span class="p">&amp;</span><span class="nv">utm_campaign</span><span class="o">=</span>bunker-web-docs<span class="o">)</span>„ÄÇ

<span class="c1">## Docker</span>

&lt;figure<span class="w"> </span>markdown&gt;
<span class="w">  </span>!<span class="o">[</span>Ê¶ÇËø∞<span class="o">](</span>assets/img/integration-docker.svg<span class="o">){</span><span class="w"> </span><span class="nv">align</span><span class="o">=</span>center,<span class="w"> </span><span class="nv">width</span><span class="o">=</span><span class="s2">&quot;600&quot;</span><span class="w"> </span><span class="o">}</span>
<span class="w">  </span>&lt;figcaption&gt;Docker<span class="w"> </span>ÈõÜÊàê&lt;/figcaption&gt;
&lt;/figure&gt;

‰ΩøÁî®<span class="w"> </span>BunkerWeb<span class="w"> </span>‰Ωú‰∏∫<span class="w"> </span><span class="o">[</span>Docker<span class="o">](</span>https://www.docker.com/<span class="o">)</span><span class="w"> </span>ÂÆπÂô®Êèê‰æõ‰∫Ü‰∏ÄÁßçÊñπ‰æøÁõ¥Êé•ÁöÑÊñπÊ≥ïÊù•ÊµãËØïÂíå‰ΩøÁî®ËØ•Ëß£ÂÜ≥ÊñπÊ°àÔºåÁâπÂà´ÊòØÂ¶ÇÊûúÊÇ®Â∑≤ÁªèÁÜüÊÇâ<span class="w"> </span>Docker<span class="w"> </span>ÊäÄÊúØ„ÄÇ

‰∏∫‰∫ÜÊñπ‰æøÊÇ®ÁöÑ<span class="w"> </span>Docker<span class="w"> </span>ÈÉ®ÁΩ≤ÔºåÊàë‰ª¨Âú®<span class="w"> </span><span class="o">[</span>Docker<span class="w"> </span>Hub<span class="o">](</span>https://hub.docker.com/r/bunkerity/bunkerweb<span class="o">)</span><span class="w"> </span>‰∏äÊèê‰æõ‰∫ÜÊîØÊåÅÂ§öÁßçÊû∂ÊûÑÁöÑÈ¢ÑÊûÑÂª∫ÈïúÂÉè„ÄÇËøô‰∫õÈ¢ÑÊûÑÂª∫ÈïúÂÉèÁªèËøá‰ºòÂåñÔºåÂèØÁî®‰∫é‰ª•‰∏ãÊû∂ÊûÑÔºö

-<span class="w"> </span>x64<span class="w"> </span><span class="o">(</span>64‰Ωç<span class="o">)</span>
-<span class="w"> </span>x86
-<span class="w"> </span>armv8<span class="w"> </span><span class="o">(</span>ARM<span class="w"> </span>64‰Ωç<span class="o">)</span>
-<span class="w"> </span>armv7<span class="w"> </span><span class="o">(</span>ARM<span class="w"> </span>32‰Ωç<span class="o">)</span>

ÈÄöËøá‰ªé<span class="w"> </span>Docker<span class="w"> </span>Hub<span class="w"> </span>Ëé∑ÂèñËøô‰∫õÈ¢ÑÊûÑÂª∫ÈïúÂÉèÔºåÊÇ®ÂèØ‰ª•Âø´ÈÄüÂú®ÊÇ®ÁöÑ<span class="w"> </span>Docker<span class="w"> </span>ÁéØÂ¢É‰∏≠ÊãâÂèñÂπ∂ËøêË°å<span class="w"> </span>BunkerWebÔºåÊó†ÈúÄËøõË°åÂπøÊ≥õÁöÑÈÖçÁΩÆÊàñËÆæÁΩÆËøáÁ®ã„ÄÇËøôÁßçÁÆÄÂåñÁöÑÊñπÊ≥ïËÆ©ÊÇ®ËÉΩÂ§ü‰∏ìÊ≥®‰∫éÂà©Áî®<span class="w"> </span>BunkerWeb<span class="w"> </span>ÁöÑÂäüËÉΩÔºåËÄåÊó†ÈúÄ‰∏çÂøÖË¶ÅÁöÑÂ§çÊùÇÊÄß„ÄÇ

Êó†ËÆ∫ÊÇ®ÊòØËøõË°åÊµãËØï„ÄÅÂºÄÂèëÂ∫îÁî®Á®ãÂ∫èËøòÊòØÂú®Áîü‰∫ß‰∏≠ÈÉ®ÁΩ≤<span class="w"> </span>BunkerWebÔºåDocker<span class="w"> </span>ÂÆπÂô®ÂåñÈÄâÈ°πÈÉΩÊèê‰æõ‰∫ÜÁÅµÊ¥ªÊÄßÂíåÊòìÁî®ÊÄß„ÄÇÈááÁî®ËøôÁßçÊñπÊ≥ï‰ΩøÊÇ®ËÉΩÂ§üÂÖÖÂàÜÂà©Áî®<span class="w"> </span>BunkerWeb<span class="w"> </span>ÁöÑÂäüËÉΩÔºåÂêåÊó∂Âà©Áî®<span class="w"> </span>Docker<span class="w"> </span>ÊäÄÊúØÁöÑ‰ºòÂäø„ÄÇ

<span class="sb">```</span>shell
docker<span class="w"> </span>pull<span class="w"> </span>bunkerity/bunkerweb:testing-rc3
</code></pre></div>
<p>Docker ÈïúÂÉè‰πüÂèØÂú® <a href="https://github.com/orgs/bunkerity/packages?repo_name=bunkerweb">GitHub packages</a> ‰∏äÊâæÂà∞ÔºåÂèØ‰ª•‰ΩøÁî® <code>ghcr.io</code> ‰ªìÂ∫ìÂú∞ÂùÄ‰∏ãËΩΩÔºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>pull<span class="w"> </span>ghcr.io/bunkerity/bunkerweb:testing-rc3<span class="sb">```</span>

Docker<span class="w"> </span>ÈõÜÊàêÁöÑÂÖ≥ÈîÆÊ¶ÇÂøµÂåÖÊã¨Ôºö

-<span class="w"> </span>**ÁéØÂ¢ÉÂèòÈáè**Ôºö‰ΩøÁî®ÁéØÂ¢ÉÂèòÈáèËΩªÊùæÈÖçÁΩÆ<span class="w"> </span>BunkerWeb„ÄÇËøô‰∫õÂèòÈáèÂÖÅËÆ∏ÊÇ®Ëá™ÂÆö‰πâ<span class="w"> </span>BunkerWeb<span class="w"> </span>Ë°å‰∏∫ÁöÑÂêÑ‰∏™ÊñπÈù¢Ôºå‰æãÂ¶ÇÁΩëÁªúËÆæÁΩÆ„ÄÅÂÆâÂÖ®ÈÄâÈ°πÂíåÂÖ∂‰ªñÂèÇÊï∞„ÄÇ
-<span class="w"> </span>**Ë∞ÉÂ∫¶Âô®ÂÆπÂô®**Ôºö‰ΩøÁî®‰∏Ä‰∏™Âêç‰∏∫<span class="o">[</span>Ë∞ÉÂ∫¶Âô®<span class="o">](</span>concepts.md#scheduler<span class="o">)</span>ÁöÑ‰∏ìÁî®ÂÆπÂô®Êù•ÁÆ°ÁêÜÈÖçÁΩÆÂíåÊâßË°å‰Ωú‰∏ö„ÄÇ
-<span class="w"> </span>**ÁΩëÁªú**ÔºöDocker<span class="w"> </span>ÁΩëÁªúÂú®<span class="w"> </span>BunkerWeb<span class="w"> </span>ÁöÑÈõÜÊàê‰∏≠ÊâÆÊºîÁùÄËá≥ÂÖ≥ÈáçË¶ÅÁöÑËßíËâ≤„ÄÇËøô‰∫õÁΩëÁªúÊúâ‰∏§‰∏™‰∏ªË¶ÅÁõÆÁöÑÔºöÂêëÂÆ¢Êà∑Á´ØÂÖ¨ÂºÄÁ´ØÂè£‰ª•ÂèäËøûÊé•Âà∞‰∏äÊ∏∏<span class="w"> </span>Web<span class="w"> </span>ÊúçÂä°„ÄÇÈÄöËøáÂÖ¨ÂºÄÁ´ØÂè£ÔºåBunkerWeb<span class="w"> </span>ÂèØ‰ª•Êé•ÂèóÊù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑ‰º†ÂÖ•ËØ∑Ê±ÇÔºåÂÖÅËÆ∏‰ªñ‰ª¨ËÆøÈóÆÂèó‰øùÊä§ÁöÑ<span class="w"> </span>Web<span class="w"> </span>ÊúçÂä°„ÄÇÊ≠§Â§ñÔºåÈÄöËøáËøûÊé•Âà∞‰∏äÊ∏∏<span class="w"> </span>Web<span class="w"> </span>ÊúçÂä°ÔºåBunkerWeb<span class="w"> </span>ÂèØ‰ª•È´òÊïàÂú∞Ë∑ØÁî±ÂíåÁÆ°ÁêÜÊµÅÈáèÔºåÊèê‰æõÂ¢ûÂº∫ÁöÑÂÆâÂÖ®ÊÄßÂíåÊÄßËÉΩ„ÄÇ

!!!<span class="w"> </span>info<span class="w"> </span><span class="s2">&quot;Êï∞ÊçÆÂ∫ìÂêéÁ´Ø&quot;</span>
<span class="w">    </span>ËØ∑Ê≥®ÊÑèÔºåÊàë‰ª¨ÁöÑËØ¥ÊòéÂÅáËÆæÊÇ®Ê≠£Âú®‰ΩøÁî®<span class="w"> </span>SQLite<span class="w"> </span>‰Ωú‰∏∫ÈªòËÆ§ÁöÑÊï∞ÊçÆÂ∫ìÂêéÁ´ØÔºåËøôÊòØÁî±<span class="w"> </span><span class="sb">`</span>DATABASE_URI<span class="sb">`</span><span class="w"> </span>ËÆæÁΩÆÈÖçÁΩÆÁöÑ„ÄÇ‰ΩÜÊòØÔºå‰πüÊîØÊåÅÂÖ∂‰ªñÊï∞ÊçÆÂ∫ìÂêéÁ´Ø„ÄÇÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ‰ªìÂ∫ìÁöÑ<span class="w"> </span><span class="o">[</span>misc/integrations<span class="w"> </span>Êñá‰ª∂Â§π<span class="o">](</span>https://github.com/bunkerity/bunkerweb/tree/vtesting-rc3/misc/integrations<span class="o">)</span>‰∏≠ÁöÑ<span class="w"> </span>docker-compose<span class="w"> </span>Êñá‰ª∂„ÄÇ

<span class="c1">### ÁéØÂ¢ÉÂèòÈáè</span>

ËÆæÁΩÆÈÄöËøá<span class="w"> </span>Docker<span class="w"> </span>ÁéØÂ¢ÉÂèòÈáè‰º†ÈÄíÁªôË∞ÉÂ∫¶Âô®Ôºö

<span class="sb">```</span>yaml
...
services:
<span class="w">  </span>bw-scheduler:
<span class="w">    </span>image:<span class="w"> </span>bunkerity/bunkerweb-scheduler:testing-rc3
<span class="w">    </span>environment:
<span class="w">      </span>-<span class="w"> </span><span class="nv">MY_SETTING</span><span class="o">=</span>value
<span class="w">      </span>-<span class="w"> </span><span class="nv">ANOTHER_SETTING</span><span class="o">=</span>another<span class="w"> </span>value
<span class="w">    </span>volumes:
<span class="w">      </span>-<span class="w"> </span>bw-storage:/data<span class="w"> </span><span class="c1"># Áî®‰∫éÊåÅ‰πÖÂåñÁºìÂ≠òÂíåÂ§á‰ªΩÁ≠âÂÖ∂‰ªñÊï∞ÊçÆ</span>
...
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">ÂÆåÊï¥ÂàóË°®</p>
<p>ÊúâÂÖ≥ÁéØÂ¢ÉÂèòÈáèÁöÑÂÆåÊï¥ÂàóË°®ÔºåËØ∑ÂèÇÈòÖÊñáÊ°£ÁöÑ<a href="../features/">ËÆæÁΩÆÈÉ®ÂàÜ</a>„ÄÇ</p>
</div>
<h3 id="docker-secrets">‰ΩøÁî® Docker secrets</h3>
<p>‰∏éÂÖ∂ÈÄöËøáÁéØÂ¢ÉÂèòÈáè‰º†ÈÄíÊïèÊÑüËÆæÁΩÆÔºå‰∏çÂ¶ÇÂ∞ÜÂÆÉ‰ª¨Â≠òÂÇ®‰∏∫ Docker secrets„ÄÇÂØπ‰∫éÊØè‰∏™ÊÇ®ÊÉ≥Ë¶Å‰øùÊä§ÁöÑËÆæÁΩÆÔºåÂàõÂª∫‰∏Ä‰∏™ÂêçÁß∞‰∏éËÆæÁΩÆÈîÆÔºàÂ§ßÂÜôÔºâÂåπÈÖçÁöÑ Docker secret„ÄÇBunkerWeb ÁöÑÂÖ•Âè£ÁÇπËÑöÊú¨‰ºöËá™Âä®‰ªé <code>/run/secrets</code> Âä†ËΩΩ secrets Âπ∂Â∞ÜÂÆÉ‰ª¨ÂØºÂá∫‰∏∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ</p>
<p>Á§∫‰æãÔºö
<div class="highlight"><pre><span></span><code><span class="c1"># ‰∏∫ ADMIN_PASSWORD ÂàõÂª∫‰∏Ä‰∏™ Docker secret</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;S3cr3tP@ssw0rd&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>docker<span class="w"> </span>secret<span class="w"> </span>create<span class="w"> </span>ADMIN_PASSWORD<span class="w"> </span>-
</code></pre></div></p>
<p>ÈÉ®ÁΩ≤Êó∂ÊåÇËΩΩ secretsÔºö
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-ui</span><span class="p">:</span>
<span class="w">    </span><span class="nt">secrets</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ADMIN_PASSWORD</span>
<span class="nn">...</span>
<span class="nt">secrets</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ADMIN_PASSWORD</span><span class="p">:</span>
<span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div></p>
<p>ËøôÁ°Æ‰øù‰∫ÜÊïèÊÑüËÆæÁΩÆ‰∏ç‰ºöÂá∫Áé∞Âú®ÁéØÂ¢ÉÂíåÊó•Âøó‰∏≠„ÄÇ</p>
<h3 id="_7">Ë∞ÉÂ∫¶Âô®</h3>
<p><a href="../concepts/#scheduler">Ë∞ÉÂ∫¶Âô®</a> Âú®ÂÖ∂Ëá™Â∑±ÁöÑÂÆπÂô®‰∏≠ËøêË°åÔºåËØ•ÂÆπÂô®‰πüÂèØÂú® Docker Hub ‰∏äÊâæÂà∞Ôºö</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>pull<span class="w"> </span>bunkerity/bunkerweb-scheduler:testing-rc3
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">BunkerWeb ËÆæÁΩÆ</p>
<p>Ëá™ <code>1.6.0</code> ÁâàÊú¨Ëµ∑ÔºåË∞ÉÂ∫¶Âô®ÂÆπÂô®ÊòØÊÇ®ÂÆö‰πâ BunkerWeb ËÆæÁΩÆÁöÑÂú∞Êñπ„ÄÇÁÑ∂ÂêéÔºåË∞ÉÂ∫¶Âô®Â∞ÜÈÖçÁΩÆÊé®ÈÄÅÂà∞ BunkerWeb ÂÆπÂô®„ÄÇ</p>
<p>‚ö† <strong>ÈáçË¶ÅÊèêÁ§∫</strong>ÔºöÊâÄÊúâ‰∏é API Áõ∏ÂÖ≥ÁöÑËÆæÁΩÆÔºà‰æãÂ¶Ç <code>API_HTTP_PORT</code>„ÄÅ<code>API_LISTEN_IP</code>„ÄÅ<code>API_SERVER_NAME</code>„ÄÅ<code>API_WHITELIST_IP</code>ÔºåÂ¶ÇÊûúÊÇ®‰ΩøÁî® <code>API_TOKEN</code> ÁöÑËØù‰πüÂåÖÊã¨ÂÆÉÔºâ<strong>‰πüÂøÖÈ°ªÂú® BunkerWeb ÂÆπÂô®‰∏≠ÂÆö‰πâ</strong>„ÄÇËøô‰∫õËÆæÁΩÆÂøÖÈ°ªÂú®‰∏§‰∏™ÂÆπÂô®‰∏≠‰øùÊåÅ‰∏ÄËá¥ÔºõÂê¶ÂàôÔºåBunkerWeb ÂÆπÂô®Â∞Ü‰∏çÊé•ÂèóÊù•Ëá™Ë∞ÉÂ∫¶Âô®ÁöÑ API ËØ∑Ê±Ç„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nt">x-bw-api-env</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;bw-api-env</span>
<span class="w">  </span><span class="c1"># Êàë‰ª¨‰ΩøÁî®‰∏Ä‰∏™ÈîöÁÇπÊù•ÈÅøÂÖçÂú®‰∏§‰∏™ÂÆπÂô®‰∏≠ÈáçÂ§çÁõ∏ÂêåÁöÑËÆæÁΩÆ</span>
<span class="w">  </span><span class="nt">API_HTTP_PORT</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;5000&quot;</span><span class="w"> </span><span class="c1"># ÈªòËÆ§ÂÄº</span>
<span class="w">  </span><span class="nt">API_LISTEN_IP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;0.0.0.0&quot;</span><span class="w"> </span><span class="c1"># ÈªòËÆ§ÂÄº</span>
<span class="w">  </span><span class="nt">API_SERVER_NAME</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bwapi&quot;</span><span class="w"> </span><span class="c1"># ÈªòËÆ§ÂÄº</span>
<span class="w">  </span><span class="nt">API_WHITELIST_IP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.0/24</span><span class="nv"> </span><span class="s">10.20.30.0/24&quot;</span><span class="w"> </span><span class="c1"># Ê†πÊçÆÊÇ®ÁöÑÁΩëÁªúËÆæÁΩÆÊù•ÈÖçÁΩÆ</span>
<span class="w">  </span><span class="c1"># ÂèØÈÄâÁöÑ‰ª§ÁâåÔºõÂ¶ÇÊûúËÆæÁΩÆÔºåË∞ÉÂ∫¶Âô®‰ºöÂèëÈÄÅ Authorization: Bearer &lt;token&gt;</span>
<span class="w">  </span><span class="nt">API_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># ËøôÂ∞Ü‰∏∫ BunkerWeb ÂÆπÂô®ËÆæÁΩÆ API</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-api-env</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>

<span class="w">  </span><span class="nt">bw-scheduler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-scheduler:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># ËøôÂ∞Ü‰∏∫Ë∞ÉÂ∫¶Âô®ÂÆπÂô®ËÆæÁΩÆ API</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-api-env</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-storage:/data</span><span class="w"> </span><span class="c1"># Áî®‰∫éÊåÅ‰πÖÂåñÁºìÂ≠òÂíåÂ§á‰ªΩÁ≠âÂÖ∂‰ªñÊï∞ÊçÆ</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="nn">...</span>
</code></pre></div>
</div>
<p>ÈúÄË¶Å‰∏Ä‰∏™Âç∑Êù•Â≠òÂÇ®Ë∞ÉÂ∫¶Âô®‰ΩøÁî®ÁöÑ SQLite Êï∞ÊçÆÂ∫ìÂíåÂ§á‰ªΩÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nn">...</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-scheduler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-scheduler:testing-rc3</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-storage:/data</span>
<span class="nn">...</span>
<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-storage</span><span class="p">:</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">‰∏∫ÊåÅ‰πÖÂåñÊï∞ÊçÆ‰ΩøÁî®Êú¨Âú∞Êñá‰ª∂Â§π</p>
<p>Ë∞ÉÂ∫¶Âô®Âú®ÂÆπÂô®ÂÜÖ‰ª•<strong>UID 101 Âíå GID 101 ÁöÑÈùûÁâπÊùÉÁî®Êà∑</strong>Ë∫´‰ªΩËøêË°å„ÄÇËøôÂ¢ûÂº∫‰∫ÜÂÆâÂÖ®ÊÄßÔºö‰∏á‰∏ÄÊºèÊ¥ûË¢´Âà©Áî®ÔºåÊîªÂáªËÄÖÂ∞Ü‰∏ç‰ºöÊã•ÊúâÂÆåÂÖ®ÁöÑ root (UID/GID 0) ÊùÉÈôê„ÄÇ</p>
<p>‰ΩÜÊòØÔºåÂ¶ÇÊûúÊÇ®‰∏∫ÊåÅ‰πÖÂåñÊï∞ÊçÆ‰ΩøÁî®<strong>Êú¨Âú∞Êñá‰ª∂Â§π</strong>ÔºåÊÇ®ÂøÖÈ°ª<strong>ËÆæÁΩÆÊ≠£Á°ÆÁöÑÊùÉÈôê</strong>Ôºå‰ª•‰æøÈùûÁâπÊùÉÁî®Êà∑ÂèØ‰ª•ÂêëÂÖ∂‰∏≠ÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ‰æãÂ¶ÇÔºö</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>bw-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
chown<span class="w"> </span>root:101<span class="w"> </span>bw-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
chmod<span class="w"> </span><span class="m">770</span><span class="w"> </span>bw-data
</code></pre></div>
<p>ÊàñËÄÖÔºåÂ¶ÇÊûúÊñá‰ª∂Â§πÂ∑≤ÁªèÂ≠òÂú®Ôºö</p>
<div class="highlight"><pre><span></span><code>chown<span class="w"> </span>-R<span class="w"> </span>root:101<span class="w"> </span>bw-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
chmod<span class="w"> </span>-R<span class="w"> </span><span class="m">770</span><span class="w"> </span>bw-data
</code></pre></div>
<p>Â¶ÇÊûúÊÇ®Ê≠£Âú®‰ΩøÁî®<a href="https://docs.docker.com/engine/security/rootless">Êó†Ê†πÊ®°ÂºèÁöÑ Docker</a> Êàñ <a href="https://podman.io/">Podman</a>ÔºåÂÆπÂô®‰∏≠ÁöÑ UID Âíå GID Â∞ÜÊò†Â∞ÑÂà∞‰∏ªÊú∫‰∏ä‰∏çÂêåÁöÑ UID Âíå GID„ÄÇÊÇ®È¶ñÂÖàÈúÄË¶ÅÊ£ÄÊü•ÊÇ®ÁöÑÂàùÂßã subuid Âíå subgidÔºö</p>
<div class="highlight"><pre><span></span><code>grep<span class="w"> </span>^<span class="k">$(</span>whoami<span class="k">)</span>:<span class="w"> </span>/etc/subuid<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
grep<span class="w"> </span>^<span class="k">$(</span>whoami<span class="k">)</span>:<span class="w"> </span>/etc/subgid
</code></pre></div>
<p>‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊÇ®ÁöÑÂÄº‰∏∫ <strong>100000</strong>ÔºåÂàôÊò†Â∞ÑÁöÑ UID/GID Â∞Ü‰∏∫ <strong>100100</strong> (100000 + 100)Ôºö</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>bw-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>chgrp<span class="w"> </span><span class="m">100100</span><span class="w"> </span>bw-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
chmod<span class="w"> </span><span class="m">770</span><span class="w"> </span>bw-data
</code></pre></div>
<p>ÊàñËÄÖÂ¶ÇÊûúÊñá‰ª∂Â§πÂ∑≤ÁªèÂ≠òÂú®Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chgrp<span class="w"> </span>-R<span class="w"> </span><span class="m">100100</span><span class="w"> </span>bw-data<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>chmod<span class="w"> </span>-R<span class="w"> </span><span class="m">770</span><span class="w"> </span>bw-data
</code></pre></div>
</div>
<h3 id="_8">ÁΩëÁªú</h3>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåBunkerWeb ÂÆπÂô®Âú®ÔºàÂÆπÂô®ÂÜÖÈÉ®Ôºâ<strong>8080/tcp</strong> Á´ØÂè£‰∏äÁõëÂê¨ <strong>HTTP</strong>ÔºåÂú® <strong>8443/tcp</strong> Á´ØÂè£‰∏äÁõëÂê¨ <strong>HTTPS</strong>ÔºåÂú® <strong>8443/udp</strong> Á´ØÂè£‰∏äÁõëÂê¨ <strong>QUIC</strong>„ÄÇ</p>
<div class="admonition warning">
<p class="admonition-title">Âú®Êó†Ê†πÊ®°ÂºèÊàñ‰ΩøÁî® Podman Êó∂ÁöÑÁâπÊùÉÁ´ØÂè£</p>
<p>Â¶ÇÊûúÊÇ®Ê≠£Âú®‰ΩøÁî®<a href="https://docs.docker.com/engine/security/rootless">Êó†Ê†πÊ®°ÂºèÁöÑ Docker</a> Âπ∂Â∏åÊúõÂ∞ÜÁâπÊùÉÁ´ØÂè£Ôºà&lt; 1024ÔºâÔºåÂ¶Ç 80 Âíå 443ÔºåÈáçÂÆöÂêëÂà∞ BunkerWebÔºåËØ∑ÂèÇÈòÖ<a href="https://docs.docker.com/engine/security/rootless/#exposing-privileged-ports">Ê≠§Â§Ñ</a>ÁöÑÂÖàÂÜ≥Êù°‰ª∂„ÄÇ</p>
<p>Â¶ÇÊûúÊÇ®Ê≠£Âú®‰ΩøÁî® <a href="https://podman.io/">Podman</a>ÔºåÂèØ‰ª•Èôç‰ΩéÈùûÁâπÊùÉÁ´ØÂè£ÁöÑÊúÄÂ∞èÊï∞ÈáèÔºö
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>sysctl<span class="w"> </span>net.ipv4.ip_unprivileged_port_start<span class="o">=</span><span class="m">1</span>
</code></pre></div></p>
</div>
<p>‰ΩøÁî® Docker ÈõÜÊàêÊó∂ÔºåÂÖ∏ÂûãÁöÑ BunkerWeb Â†ÜÊ†àÂåÖÂê´‰ª•‰∏ãÂÆπÂô®Ôºö</p>
<ul>
<li>BunkerWeb</li>
<li>Ë∞ÉÂ∫¶Âô®</li>
<li>ÊÇ®ÁöÑÊúçÂä°</li>
</ul>
<p>Âá∫‰∫éÊ∑±Â∫¶Èò≤Âæ°ÁöÑÁõÆÁöÑÔºåÊàë‰ª¨Âº∫ÁÉàÂª∫ËÆÆÂàõÂª∫Ëá≥Â∞ë‰∏â‰∏™‰∏çÂêåÁöÑ Docker ÁΩëÁªúÔºö</p>
<ul>
<li><code>bw-services</code>ÔºöÁî®‰∫é BunkerWeb ÂíåÊÇ®ÁöÑ Web ÊúçÂä°</li>
<li><code>bw-universe</code>ÔºöÁî®‰∫é BunkerWeb ÂíåË∞ÉÂ∫¶Âô®</li>
<li><code>bw-db</code>ÔºöÁî®‰∫éÊï∞ÊçÆÂ∫ìÔºàÂ¶ÇÊûúÊÇ®Ê≠£Âú®‰ΩøÁî®Ôºâ</li>
</ul>
<p>‰∏∫‰∫Ü‰øùÊä§Ë∞ÉÂ∫¶Âô®Âíå BunkerWeb API ‰πãÈó¥ÁöÑÈÄö‰ø°Ôºå<strong>ËØ∑ÊéàÊùÉ API Ë∞ÉÁî®</strong>„ÄÇ‰ΩøÁî® <code>API_WHITELIST_IP</code> ËÆæÁΩÆÊù•ÊåáÂÆöÂÖÅËÆ∏ÁöÑ IP Âú∞ÂùÄÂíåÂ≠êÁΩë„ÄÇ‰∏∫‰∫ÜÊõ¥Âº∫ÁöÑ‰øùÊä§ÔºåËØ∑Âú®‰∏§‰∏™ÂÆπÂô®‰∏≠ËÆæÁΩÆ <code>API_TOKEN</code>ÔºõË∞ÉÂ∫¶Âô®Â∞ÜËá™Âä®ÂåÖÂê´ <code>Authorization: Bearer &lt;token&gt;</code>„ÄÇ</p>
<p><strong>Âº∫ÁÉàÂª∫ËÆÆ‰∏∫ <code>bw-universe</code> ÁΩëÁªú‰ΩøÁî®ÈùôÊÄÅÂ≠êÁΩë</strong>‰ª•Â¢ûÂº∫ÂÆâÂÖ®ÊÄß„ÄÇÈÄöËøáÂÆûÊñΩËøô‰∫õÊé™ÊñΩÔºåÊÇ®ÂèØ‰ª•Á°Æ‰øùÂè™ÊúâÊéàÊùÉÁöÑÊ∫êÊâçËÉΩËÆøÈóÆ BunkerWeb APIÔºå‰ªéËÄåÈôç‰ΩéÊú™ÁªèÊéàÊùÉÁöÑËÆøÈóÆÊàñÊÅ∂ÊÑèÊ¥ªÂä®ÁöÑÈ£éÈô©Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">x-bw-api-env</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;bw-api-env</span>
<span class="w">  </span><span class="c1"># Êàë‰ª¨‰ΩøÁî®‰∏Ä‰∏™ÈîöÁÇπÊù•ÈÅøÂÖçÂú®‰∏§‰∏™ÂÆπÂô®‰∏≠ÈáçÂ§çÁõ∏ÂêåÁöÑËÆæÁΩÆ</span>
<span class="w">  </span><span class="nt">API_WHITELIST_IP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.0/24</span><span class="nv"> </span><span class="s">10.20.30.0/24&quot;</span>
<span class="w">  </span><span class="nt">API_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># ÂèØÈÄâÁöÑ API ‰ª§Áâå</span>
<span class="w">  </span><span class="c1"># ÂèØÈÄâÁöÑ API ‰ª§ÁâåÔºåÁî®‰∫éÁªèËøáË∫´‰ªΩÈ™åËØÅÁöÑ API ËÆøÈóÆ</span>
<span class="w">  </span><span class="nt">API_TOKEN</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:8080/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/udp&quot;</span><span class="w"> </span><span class="c1"># QUIC</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-api-env</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="nn">...</span>
<span class="w">  </span><span class="nt">bw-scheduler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-scheduler:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-api-env</span>
<span class="w">      </span><span class="nt">BUNKERWEB_INSTANCES</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bunkerweb&quot;</span><span class="w"> </span><span class="c1"># Ëøô‰∏™ËÆæÁΩÆÊòØÂº∫Âà∂ÊÄßÁöÑÔºåÁî®Êù•ÊåáÂÆö BunkerWeb ÂÆû‰æã</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-storage:/data</span><span class="w"> </span><span class="c1"># Áî®‰∫éÊåÅ‰πÖÂåñÁºìÂ≠òÂíåÂ§á‰ªΩÁ≠âÂÖ∂‰ªñÊï∞ÊçÆ</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="nn">...</span>
<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-storage</span><span class="p">:</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-universe</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">    </span><span class="nt">ipam</span><span class="p">:</span>
<span class="w">      </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.30.0/24</span><span class="w"> </span><span class="c1"># ÈùôÊÄÅÂ≠êÁΩëÔºå‰ª•‰æøÂè™ÊúâÊéàÊùÉÁöÑÊ∫êÂèØ‰ª•ËÆøÈóÆ BunkerWeb API</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
</code></pre></div>
<h3 id="compose">ÂÆåÊï¥ÁöÑ compose Êñá‰ª∂</h3>
<div class="highlight"><pre><span></span><code><span class="nt">x-bw-api-env</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;bw-api-env</span>
<span class="w">  </span><span class="c1"># Êàë‰ª¨‰ΩøÁî®‰∏Ä‰∏™ÈîöÁÇπÊù•ÈÅøÂÖçÂú®‰∏§‰∏™ÂÆπÂô®‰∏≠ÈáçÂ§çÁõ∏ÂêåÁöÑËÆæÁΩÆ</span>
<span class="w">  </span><span class="nt">API_WHITELIST_IP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.0/24</span><span class="nv"> </span><span class="s">10.20.30.0/24&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:8080/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/udp&quot;</span><span class="w"> </span><span class="c1"># QUIC</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-api-env</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>

<span class="w">  </span><span class="nt">bw-scheduler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-scheduler:testing-rc3</span>
<span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-api-env</span>
<span class="w">      </span><span class="nt">BUNKERWEB_INSTANCES</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bunkerweb&quot;</span><span class="w"> </span><span class="c1"># Ëøô‰∏™ËÆæÁΩÆÊòØÂº∫Âà∂ÊÄßÁöÑÔºåÁî®Êù•ÊåáÂÆö BunkerWeb ÂÆû‰æã</span>
<span class="w">      </span><span class="nt">SERVER_NAME</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;www.example.com&quot;</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-storage:/data</span><span class="w"> </span><span class="c1"># Áî®‰∫éÊåÅ‰πÖÂåñÁºìÂ≠òÂíåÂ§á‰ªΩÁ≠âÂÖ∂‰ªñÊï∞ÊçÆ</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>

<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-storage</span><span class="p">:</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-universe</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">    </span><span class="nt">ipam</span><span class="p">:</span>
<span class="w">      </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.30.0/24</span><span class="w"> </span><span class="c1"># ÈùôÊÄÅÂ≠êÁΩëÔºå‰ª•‰æøÂè™ÊúâÊéàÊùÉÁöÑÊ∫êÂèØ‰ª•ËÆøÈóÆ BunkerWeb API</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
</code></pre></div>
<h3 id="_9">‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫</h3>
<p>ÊàñËÄÖÔºåÂ¶ÇÊûúÊÇ®Êõ¥ÂñúÊ¨¢‰∫≤Ëá™Âä®ÊâãÔºåÊÇ®ÂèØ‰ª•ÈÄâÊã©Áõ¥Êé•‰ªé<a href="https://github.com/bunkerity/bunkerweb">Ê∫ê‰ª£Á†Å</a>ÊûÑÂª∫ Docker ÈïúÂÉè„ÄÇ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ÈïúÂÉèÂèØ‰ª•ËÆ©ÊÇ®ÂØπÈÉ®ÁΩ≤ËøáÁ®ãÊúâÊõ¥Â§ßÁöÑÊéßÂà∂ÂíåÂÆöÂà∂„ÄÇ‰ΩÜÊòØÔºåËØ∑Ê≥®ÊÑèÔºåËøôÁßçÊñπÊ≥ïÂèØËÉΩÈúÄË¶Å‰∏Ä‰∫õÊó∂Èó¥ÊâçËÉΩÂÆåÊàêÔºåÂÖ∑‰ΩìÂèñÂÜ≥‰∫éÊÇ®ÁöÑÁ°¨‰ª∂ÈÖçÁΩÆÔºàÂ¶ÇÊûúÈúÄË¶ÅÔºåÊÇ®ÂèØ‰ª•ÂéªÂñùÊùØÂíñÂï° ‚òïÔºâ„ÄÇ</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/bunkerity/bunkerweb.git<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">cd</span><span class="w"> </span>bunkerweb<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>bw<span class="w"> </span>-f<span class="w"> </span>src/bw/Dockerfile<span class="w"> </span>.<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>bw-scheduler<span class="w"> </span>-f<span class="w"> </span>src/scheduler/Dockerfile<span class="w"> </span>.<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>bw-autoconf<span class="w"> </span>-f<span class="w"> </span>src/autoconf/Dockerfile<span class="w"> </span>.<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>bw-ui<span class="w"> </span>-f<span class="w"> </span>src/ui/Dockerfile<span class="w"> </span>.
</code></pre></div>
<h2 id="linux">Linux</h2>
<figure>
<p><img align="center," alt="Ê¶ÇËø∞" src="../../assets/img/integration-linux.svg" width="600" />
  </p>
<figcaption>Linux ÈõÜÊàê</figcaption>
</figure>
<p>ÊîØÊåÅ BunkerWeb ÁöÑ Linux ÂèëË°åÁâàÔºàamd64/x86_64 Âíå arm64/aarch64 Êû∂ÊûÑÔºâÂåÖÊã¨Ôºö</p>
<ul>
<li>Debian 12 "Bookworm"</li>
<li>Debian 13 "Trixie"</li>
<li>Ubuntu 22.04 "Jammy"</li>
<li>Ubuntu 24.04 "Noble"</li>
<li>Fedora 41 Âíå 42</li>
<li>Red Hat Enterprise Linux (RHEL) 8, 9 Âíå 10</li>
</ul>
<h3 id="_10">ÁÆÄÊòìÂÆâË£ÖËÑöÊú¨</h3>
<p>‰∏∫‰∫ÜÁÆÄÂåñÂÆâË£Ö‰ΩìÈ™åÔºåBunkerWeb Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÆÄÊòìÂÆâË£ÖËÑöÊú¨ÔºåÂèØ‰ª•Ëá™Âä®Â§ÑÁêÜÊï¥‰∏™ËÆæÁΩÆËøáÁ®ãÔºåÂåÖÊã¨ NGINX ÂÆâË£Ö„ÄÅ‰ªìÂ∫ìÈÖçÁΩÆÂíåÊúçÂä°ËÆæÁΩÆ„ÄÇ</p>
<h4 id="_11">Âø´ÈÄüÂºÄÂßã</h4>
<p>Ë¶ÅÂºÄÂßã‰ΩøÁî®ÔºåËØ∑‰∏ãËΩΩÂÆâË£ÖËÑöÊú¨ÂèäÂÖ∂Ê†°È™åÂíåÔºåÁÑ∂ÂêéÂú®ËøêË°åÂâçÈ™åËØÅËÑöÊú¨ÁöÑÂÆåÊï¥ÊÄß„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ‰∏ãËΩΩËÑöÊú¨ÂèäÂÖ∂Ê†°È™åÂíå</span>
wget<span class="w"> </span>https://github.com/bunkerity/bunkerweb/releases/download/vtesting-rc3/install-bunkerweb.sh
wget<span class="w"> </span>https://github.com/bunkerity/bunkerweb/releases/download/vtesting-rc3/install-bunkerweb.sh.sha256

<span class="c1"># È™åËØÅÊ†°È™åÂíå</span>
sha256sum<span class="w"> </span>-c<span class="w"> </span>install-bunkerweb.sh.sha256

<span class="c1"># Â¶ÇÊûúÊ£ÄÊü•ÊàêÂäüÔºåÂàôËøêË°åËÑöÊú¨</span>
chmod<span class="w"> </span>+x<span class="w"> </span>install-bunkerweb.sh
sudo<span class="w"> </span>./install-bunkerweb.sh
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">ÂÆâÂÖ®ÊèêÁ§∫</p>
<p><strong>Âú®ËøêË°åÂÆâË£ÖËÑöÊú¨‰πãÂâçÔºåËØ∑Âä°ÂøÖÈ™åËØÅÂÖ∂ÂÆåÊï¥ÊÄß„ÄÇ</strong></p>
<p>‰∏ãËΩΩÊ†°È™åÂíåÊñá‰ª∂ÔºåÂπ∂‰ΩøÁî®ÂÉè <code>sha256sum</code> ËøôÊ†∑ÁöÑÂ∑•ÂÖ∑Êù•Á°ÆËÆ§ËÑöÊú¨Ê≤°ÊúâË¢´Êõ¥ÊîπÊàñÁØ°Êîπ„ÄÇ</p>
<p>Â¶ÇÊûúÊ†°È™åÂíåÈ™åËØÅÂ§±Ë¥•Ôºå<strong>ËØ∑‰∏çË¶ÅÊâßË°åËØ•ËÑöÊú¨</strong>‚Äî‚ÄîÂÆÉÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ</p>
</div>
<h4 id="_12">Â∑•‰ΩúÂéüÁêÜ</h4>
<p>ÁÆÄÊòìÂÆâË£ÖËÑöÊú¨ÊòØ‰∏Ä‰∏™Âº∫Â§ßÁöÑÂ∑•ÂÖ∑ÔºåÊó®Âú®ÁÆÄÂåñÂú®ÂÖ®Êñ∞ÁöÑ Linux Á≥ªÁªü‰∏äËÆæÁΩÆ BunkerWeb ÁöÑËøáÁ®ã„ÄÇÂÆÉ‰ºöËá™Âä®ÊâßË°å‰ª•‰∏ãÂÖ≥ÈîÆÊ≠•È™§Ôºö</p>
<ol>
<li><strong>Á≥ªÁªüÂàÜÊûê</strong>ÔºöÊ£ÄÊµãÊÇ®ÁöÑÊìç‰ΩúÁ≥ªÁªüÂπ∂ÂØπÁÖßÊîØÊåÅÁöÑÂèëË°åÁâàÂàóË°®ËøõË°åÈ™åËØÅ„ÄÇ</li>
<li><strong>ÂÆâË£ÖÂÆöÂà∂</strong>ÔºöÂú®‰∫§‰∫íÊ®°Âºè‰∏ãÔºåÂÆÉ‰ºöÊèêÁ§∫ÊÇ®ÈÄâÊã©ÂÆâË£ÖÁ±ªÂûãÔºà‰∏Ä‰ΩìÂåñ„ÄÅÁÆ°ÁêÜÂô®„ÄÅÂ∑•‰ΩúËäÇÁÇπÁ≠âÔºâÔºåÂπ∂ÂÜ≥ÂÆöÊòØÂê¶ÂêØÁî®Âü∫‰∫é Web ÁöÑËÆæÁΩÆÂêëÂØº„ÄÇ</li>
<li><strong>ÂèØÈÄâÈõÜÊàê</strong>ÔºöÊèê‰æõËá™Âä®ÂÆâË£ÖÂíåÈÖçÁΩÆ <a href="#crowdsec-‰∏éËÑöÊú¨ÁöÑÈõÜÊàê">CrowdSec ÂÆâÂÖ®ÂºïÊìé</a>ÁöÑÈÄâÈ°π„ÄÇ</li>
<li><strong>‰æùËµñÁÆ°ÁêÜ</strong>Ôºö‰ªéÂÆòÊñπÊ∫êÂÆâË£Ö BunkerWeb ÊâÄÈúÄÁöÑÊ≠£Á°ÆÁâàÊú¨ÁöÑ NGINXÔºåÂπ∂ÈîÅÂÆöÁâàÊú¨‰ª•Èò≤Ê≠¢ÊÑèÂ§ñÂçáÁ∫ß„ÄÇ</li>
<li><strong>BunkerWeb ÂÆâË£Ö</strong>ÔºöÊ∑ªÂä† BunkerWeb ËΩØ‰ª∂ÂåÖ‰ªìÂ∫ìÔºåÂÆâË£ÖÂøÖË¶ÅÁöÑËΩØ‰ª∂ÂåÖÔºåÂπ∂ÈîÅÂÆöÁâàÊú¨„ÄÇ</li>
<li><strong>ÊúçÂä°ÈÖçÁΩÆ</strong>ÔºöÊ†πÊçÆÊÇ®ÈÄâÊã©ÁöÑÂÆâË£ÖÁ±ªÂûãËÆæÁΩÆÂπ∂ÂêØÁî® <code>systemd</code> ÊúçÂä°„ÄÇ</li>
<li><strong>ÂÆâË£ÖÂêéÊåáÂØº</strong>ÔºöÊèê‰æõÊ∏ÖÊô∞ÁöÑÂêéÁª≠Ê≠•È™§ÔºåÂ∏ÆÂä©ÊÇ®ÂºÄÂßã‰ΩøÁî®Êñ∞ÁöÑ BunkerWeb ÂÆû‰æã„ÄÇ</li>
</ol>
<h4 id="_13">‰∫§‰∫íÂºèÂÆâË£Ö</h4>
<p>ÂΩì‰∏çÂ∏¶‰ªª‰ΩïÈÄâÈ°πËøêË°åÊó∂ÔºåËÑöÊú¨‰ºöËøõÂÖ•‰∏Ä‰∏™‰∫§‰∫íÊ®°ÂºèÔºåÂºïÂØºÊÇ®ÂÆåÊàêËÆæÁΩÆËøáÁ®ã„ÄÇÊÇ®Â∞ÜË¢´Ë¶ÅÊ±ÇÂÅöÂá∫‰ª•‰∏ãÈÄâÊã©Ôºö</p>
<ol>
<li><strong>ÂÆâË£ÖÁ±ªÂûã</strong>ÔºöÈÄâÊã©ÊÇ®ÊÉ≥Ë¶ÅÂÆâË£ÖÁöÑÁªÑ‰ª∂„ÄÇ<ul>
<li><strong>ÂÆåÊï¥Â†ÜÊ†àÔºàÈªòËÆ§Ôºâ</strong>Ôºö‰∏Ä‰∏™‰∏Ä‰ΩìÂåñÁöÑÂÆâË£ÖÔºåÂåÖÊã¨ BunkerWeb„ÄÅË∞ÉÂ∫¶Âô®Âíå Web UI„ÄÇ</li>
<li><strong>ÁÆ°ÁêÜÂô®</strong>ÔºöÂÆâË£ÖË∞ÉÂ∫¶Âô®Âíå Web UIÔºåÁî®‰∫éÁÆ°ÁêÜ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËøúÁ®ã BunkerWeb Â∑•‰ΩúËäÇÁÇπ„ÄÇ</li>
<li><strong>Â∑•‰ΩúËäÇÁÇπ</strong>Ôºö‰ªÖÂÆâË£Ö BunkerWeb ÂÆû‰æãÔºåÂèØÁî±ËøúÁ®ãÁÆ°ÁêÜÂô®ÁÆ°ÁêÜ„ÄÇ</li>
<li><strong>‰ªÖË∞ÉÂ∫¶Âô®</strong>Ôºö‰ªÖÂÆâË£ÖË∞ÉÂ∫¶Âô®ÁªÑ‰ª∂„ÄÇ</li>
<li><strong>‰ªÖ Web UI</strong>Ôºö‰ªÖÂÆâË£Ö Web UI ÁªÑ‰ª∂„ÄÇ</li>
</ul>
</li>
<li><strong>ËÆæÁΩÆÂêëÂØº</strong>ÔºöÈÄâÊã©ÊòØÂê¶ÂêØÁî®Âü∫‰∫é Web ÁöÑÈÖçÁΩÆÂêëÂØº„ÄÇÂº∫ÁÉàÂª∫ËÆÆÂàùÊ¨°‰ΩøÁî®ÁöÑÁî®Êà∑ÈÄâÊã©Ê≠§È°π„ÄÇ</li>
<li><strong>CrowdSec ÈõÜÊàê</strong>ÔºöÈÄâÊã©ÂÆâË£Ö CrowdSec ÂÆâÂÖ®ÂºïÊìéÔºå‰ª•Ëé∑ÂæóÂÖàËøõÁöÑÂÆûÊó∂Â®ÅËÉÅÈò≤Êä§„ÄÇ</li>
<li><strong>CrowdSec AppSec</strong>ÔºöÂ¶ÇÊûúÊÇ®ÈÄâÊã©ÂÆâË£Ö CrowdSecÔºåÊÇ®ËøòÂèØ‰ª•ÂêØÁî®Â∫îÁî®Á®ãÂ∫èÂÆâÂÖ® (AppSec) ÁªÑ‰ª∂ÔºåÂÆÉÂ¢ûÂä†‰∫Ü WAF ÂäüËÉΩ„ÄÇ</li>
<li><strong>API ÊúçÂä°</strong>ÔºöÈÄâÊã©ÊòØÂê¶ÂêØÁî®ÂèØÈÄâÁöÑ BunkerWeb API ÊúçÂä°„ÄÇÂú® Linux ÂÆâË£Ö‰∏≠ÔºåÂÆÉÈªòËÆ§ÊòØÁ¶ÅÁî®ÁöÑ„ÄÇ</li>
</ol>
<div class="admonition info">
<p class="admonition-title">ÁÆ°ÁêÜÂô®ÂíåË∞ÉÂ∫¶Âô®ÂÆâË£Ö</p>
<p>Â¶ÇÊûúÊÇ®ÈÄâÊã©<strong>ÁÆ°ÁêÜÂô®</strong>Êàñ<strong>‰ªÖË∞ÉÂ∫¶Âô®</strong>ÂÆâË£ÖÁ±ªÂûãÔºåÁ≥ªÁªüËøò‰ºöÊèêÁ§∫ÊÇ®Êèê‰æõÊÇ®ÁöÑ BunkerWeb Â∑•‰ΩúËäÇÁÇπÂÆû‰æãÁöÑ IP Âú∞ÂùÄÊàñ‰∏ªÊú∫Âêç„ÄÇ</p>
</div>
<h4 id="_14">ÂëΩ‰ª§Ë°åÈÄâÈ°π</h4>
<p>ÂØπ‰∫éÈùû‰∫§‰∫íÂºèÊàñËá™Âä®ÂåñËÆæÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§Ë°åÊ†áÂøóÊù•ÊéßÂà∂ËÑöÊú¨Ôºö</p>
<p><strong>ÈÄöÁî®ÈÄâÈ°πÔºö</strong></p>
<table>
<thead>
<tr>
<th>ÈÄâÈ°π</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-v, --version VERSION</code></td>
<td>ÊåáÂÆöË¶ÅÂÆâË£ÖÁöÑ BunkerWeb ÁâàÊú¨Ôºà‰æãÂ¶Ç <code>testing-rc3</code>Ôºâ„ÄÇ</td>
</tr>
<tr>
<td><code>-w, --enable-wizard</code></td>
<td>ÂêØÁî®ËÆæÁΩÆÂêëÂØº„ÄÇ</td>
</tr>
<tr>
<td><code>-n, --no-wizard</code></td>
<td>Á¶ÅÁî®ËÆæÁΩÆÂêëÂØº„ÄÇ</td>
</tr>
<tr>
<td><code>-y, --yes</code></td>
<td>‰ª•Èùû‰∫§‰∫íÊ®°ÂºèËøêË°åÔºåÂØπÊâÄÊúâÊèêÁ§∫‰ΩøÁî®ÈªòËÆ§Á≠îÊ°à„ÄÇ</td>
</tr>
<tr>
<td><code>-f, --force</code></td>
<td>Âç≥‰ΩøÂú®‰∏çÂèóÊîØÊåÅÁöÑÊìç‰ΩúÁ≥ªÁªüÁâàÊú¨‰∏äÔºå‰πüÂº∫Âà∂ÁªßÁª≠ÂÆâË£Ö„ÄÇ</td>
</tr>
<tr>
<td><code>-q, --quiet</code></td>
<td>ÈùôÈªòÂÆâË£ÖÔºàÊäëÂà∂ËæìÂá∫Ôºâ„ÄÇ</td>
</tr>
<tr>
<td><code>--api</code>, <code>--enable-api</code></td>
<td>ÂêØÁî® API (FastAPI) systemd ÊúçÂä°ÔºàÈªòËÆ§Á¶ÅÁî®Ôºâ„ÄÇ</td>
</tr>
<tr>
<td><code>--no-api</code></td>
<td>ÊòéÁ°ÆÁ¶ÅÁî® API ÊúçÂä°„ÄÇ</td>
</tr>
<tr>
<td><code>-h, --help</code></td>
<td>ÊòæÁ§∫ÂåÖÂê´ÊâÄÊúâÂèØÁî®ÈÄâÈ°πÁöÑÂ∏ÆÂä©‰ø°ÊÅØ„ÄÇ</td>
</tr>
<tr>
<td><code>--dry-run</code></td>
<td>ÊòæÁ§∫Â∞ÜË¶ÅÂÆâË£ÖÁöÑÂÜÖÂÆπÔºå‰ΩÜ‰∏çÂÆûÈôÖÊâßË°å„ÄÇ</td>
</tr>
</tbody>
</table>
<p><strong>ÂÆâË£ÖÁ±ªÂûãÔºö</strong></p>
<table>
<thead>
<tr>
<th>ÈÄâÈ°π</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--full</code></td>
<td>ÂÆåÊï¥Â†ÜÊ†àÂÆâË£ÖÔºàBunkerWeb„ÄÅË∞ÉÂ∫¶Âô®„ÄÅUIÔºâ„ÄÇËøôÊòØÈªòËÆ§ÈÄâÈ°π„ÄÇ</td>
</tr>
<tr>
<td><code>--manager</code></td>
<td>ÂÆâË£ÖË∞ÉÂ∫¶Âô®Âíå UI ‰ª•ÁÆ°ÁêÜËøúÁ®ãÂ∑•‰ΩúËäÇÁÇπ„ÄÇ</td>
</tr>
<tr>
<td><code>--worker</code></td>
<td>‰ªÖÂÆâË£Ö BunkerWeb ÂÆû‰æã„ÄÇ</td>
</tr>
<tr>
<td><code>--scheduler-only</code></td>
<td>‰ªÖÂÆâË£ÖË∞ÉÂ∫¶Âô®ÁªÑ‰ª∂„ÄÇ</td>
</tr>
<tr>
<td><code>--ui-only</code></td>
<td>‰ªÖÂÆâË£Ö Web UI ÁªÑ‰ª∂„ÄÇ</td>
</tr>
</tbody>
</table>
<p><strong>ÂÆâÂÖ®ÈõÜÊàêÔºö</strong></p>
<table>
<thead>
<tr>
<th>ÈÄâÈ°π</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--crowdsec</code></td>
<td>ÂÆâË£ÖÂπ∂ÈÖçÁΩÆ CrowdSec ÂÆâÂÖ®ÂºïÊìé„ÄÇ</td>
</tr>
<tr>
<td><code>--no-crowdsec</code></td>
<td>Ë∑≥Ëøá CrowdSec ÂÆâË£Ö„ÄÇ</td>
</tr>
<tr>
<td><code>--crowdsec-appsec</code></td>
<td>ÂÆâË£ÖÂ∏¶Êúâ AppSec ÁªÑ‰ª∂ÁöÑ CrowdSecÔºàÂåÖÊã¨ WAF ÂäüËÉΩÔºâ„ÄÇ</td>
</tr>
</tbody>
</table>
<p><strong>È´òÁ∫ßÈÄâÈ°πÔºö</strong></p>
<table>
<thead>
<tr>
<th>ÈÄâÈ°π</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--instances "IP1 IP2"</code></td>
<td>‰ª•Á©∫Ê†ºÂàÜÈöîÁöÑ BunkerWeb ÂÆû‰æãÂàóË°®ÔºàÂú®ÁÆ°ÁêÜÂô®/Ë∞ÉÂ∫¶Âô®Ê®°Âºè‰∏ã‰∏∫ÂøÖÈúÄÔºâ„ÄÇ</td>
</tr>
</tbody>
</table>
<p><strong>Áî®Ê≥ïÁ§∫‰æãÔºö</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># ‰ª•‰∫§‰∫íÊ®°ÂºèËøêË°åÔºàÊé®ËçêÁªôÂ§ßÂ§öÊï∞Áî®Êà∑Ôºâ</span>
sudo<span class="w"> </span>./install-bunkerweb.sh

<span class="c1"># ‰ΩøÁî®ÈªòËÆ§ËÆæÁΩÆËøõË°åÈùû‰∫§‰∫íÂºèÂÆâË£ÖÔºàÂÆåÊï¥Â†ÜÊ†àÔºåÂêØÁî®ÂêëÂØºÔºâ</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--yes

<span class="c1"># ÂÆâË£Ö‰∏Ä‰∏™‰∏çÂ∏¶ËÆæÁΩÆÂêëÂØºÁöÑÂ∑•‰ΩúËäÇÁÇπ</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--worker<span class="w"> </span>--no-wizard

<span class="c1"># ÂÆâË£Ö‰∏Ä‰∏™ÁâπÂÆöÁâàÊú¨</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--version<span class="w"> </span>testing-rc3

<span class="c1"># Â∏¶ÊúâËøúÁ®ãÂ∑•‰ΩúÂÆû‰æãÁöÑÁÆ°ÁêÜÂô®ËÆæÁΩÆÔºàÈúÄË¶Å instancesÔºâ</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--manager<span class="w"> </span>--instances<span class="w"> </span><span class="s2">&quot;192.168.1.10 192.168.1.11&quot;</span>

<span class="c1"># Â∏¶Êúâ CrowdSec Âíå AppSec ÁöÑÂÆåÊï¥ÂÆâË£Ö</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--crowdsec-appsec

<span class="c1"># ÈùôÈªòÈùû‰∫§‰∫íÂºèÂÆâË£Ö</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--quiet<span class="w"> </span>--yes

<span class="c1"># È¢ÑËßàÂÆâË£ÖËÄå‰∏çÊâßË°å</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--dry-run

<span class="c1"># Âú®ÁÆÄÊòìÂÆâË£ÖÊúüÈó¥ÂêØÁî® APIÔºàÈùû‰∫§‰∫íÂºèÔºâ</span>
sudo<span class="w"> </span>./install-bunkerweb.sh<span class="w"> </span>--yes<span class="w"> </span>--api

<span class="c1"># ÈîôËØØÔºöCrowdSec ‰∏çËÉΩÁî®‰∫éÂ∑•‰ΩúËäÇÁÇπÂÆâË£Ö</span>
<span class="c1"># sudo ./install-bunkerweb.sh --worker --crowdsec  # ËøôÂ∞ÜÂ§±Ë¥•</span>

<span class="c1"># ÈîôËØØÔºöÂú®Èùû‰∫§‰∫íÊ®°Âºè‰∏ãÔºåÁÆ°ÁêÜÂô®ÈúÄË¶Å instances</span>
<span class="c1"># sudo ./install-bunkerweb.sh --manager --yes  # Â¶ÇÊûúÊ≤°Êúâ --instancesÔºåËøôÂ∞ÜÂ§±Ë¥•</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">ÂÖ≥‰∫éÈÄâÈ°πÂÖºÂÆπÊÄßÁöÑÈáçË¶ÅËØ¥Êòé</p>
<p><strong>CrowdSec ÈôêÂà∂Ôºö</strong>
- CrowdSec ÈÄâÈ°πÔºà<code>--crowdsec</code>, <code>--crowdsec-appsec</code>Ôºâ‰ªÖ‰∏é <code>--full</code>ÔºàÈªòËÆ§ÔºâÂíå <code>--manager</code> ÂÆâË£ÖÁ±ªÂûãÂÖºÂÆπ
- ÂÆÉ‰ª¨‰∏çËÉΩ‰∏é <code>--worker</code>, <code>--scheduler-only</code> Êàñ <code>--ui-only</code> ÂÆâË£Ö‰∏ÄËµ∑‰ΩøÁî®</p>
<p><strong>Instances Ë¶ÅÊ±ÇÔºö</strong>
- <code>--instances</code> ÈÄâÈ°π‰ªÖÂØπ <code>--manager</code> Âíå <code>--scheduler-only</code> ÂÆâË£ÖÁ±ªÂûãÊúâÊïà
- ÂΩì‰ΩøÁî® <code>--manager</code> Êàñ <code>--scheduler-only</code> Âπ∂Â∏¶Êúâ <code>--yes</code>ÔºàÈùû‰∫§‰∫íÊ®°ÂºèÔºâÊó∂Ôºå<code>--instances</code> ÈÄâÈ°πÊòØÂº∫Âà∂ÊÄßÁöÑ
- Ê†ºÂºèÔºö<code>--instances "192.168.1.10 192.168.1.11 192.168.1.12"</code></p>
<p><strong>‰∫§‰∫íÂºè‰∏éÈùû‰∫§‰∫íÂºèÔºö</strong>
- ‰∫§‰∫íÊ®°ÂºèÔºàÈªòËÆ§ÔºâÂ∞ÜÊèêÁ§∫ËæìÂÖ•Áº∫Â§±ÁöÑÂøÖÈúÄÂÄº
- Èùû‰∫§‰∫íÊ®°ÂºèÔºà<code>--yes</code>ÔºâË¶ÅÊ±ÇÈÄöËøáÂëΩ‰ª§Ë°åÊèê‰æõÊâÄÊúâÂøÖË¶ÅÁöÑÈÄâÈ°π</p>
</div>
<h4 id="crowdsec_1">CrowdSec ‰∏éËÑöÊú¨ÁöÑÈõÜÊàê</h4>
<p>Â¶ÇÊûúÊÇ®ÈÄâÊã©Âú®‰∫§‰∫íÂºèËÆæÁΩÆËøáÁ®ã‰∏≠ÂÆâË£Ö CrowdSecÔºåËÑöÊú¨‰ºöÂÆåÂÖ®Ëá™Âä®ÂåñÂÖ∂‰∏é BunkerWeb ÁöÑÈõÜÊàêÔºö</p>
<ul>
<li>ÂÆÉ‰ºöÊ∑ªÂä†ÂÆòÊñπÁöÑ CrowdSec ‰ªìÂ∫ìÂπ∂ÂÆâË£Ö‰ª£ÁêÜ„ÄÇ</li>
<li>ÂÆÉ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈááÈõÜÊñá‰ª∂ÔºåËÆ© CrowdSec Ëß£Êûê BunkerWeb ÁöÑÊó•ÂøóÔºà<code>access.log</code>„ÄÅ<code>error.log</code> Âíå <code>modsec_audit.log</code>Ôºâ„ÄÇ</li>
<li>ÂÆÉ‰ºöÂÆâË£ÖÂøÖË¶ÅÁöÑÈõÜÂêàÔºà<code>crowdsecurity/nginx</code>ÔºâÂíåËß£ÊûêÂô®Ôºà<code>crowdsecurity/geoip-enrich</code>Ôºâ„ÄÇ</li>
<li>ÂÆÉ‰ºö‰∏∫ BunkerWeb Ê≥®ÂÜå‰∏Ä‰∏™Êã¶Êà™Âô®ÔºåÂπ∂Ëá™Âä®Âú® <code>/etc/bunkerweb/variables.env</code> ‰∏≠ÈÖçÁΩÆ API ÂØÜÈí•„ÄÇ</li>
<li>Â¶ÇÊûúÊÇ®ËøòÈÄâÊã©‰∫Ü<strong>AppSec ÁªÑ‰ª∂</strong>ÔºåÂÆÉ‰ºöÂÆâË£Ö <code>appsec-virtual-patching</code> Âíå <code>appsec-generic-rules</code> ÈõÜÂêàÔºåÂπ∂‰∏∫ BunkerWeb ÈÖçÁΩÆ AppSec Á´ØÁÇπ„ÄÇ</li>
</ul>
<p>ËøôÊèê‰æõ‰∫Ü‰∏Ä‰∏™Êó†Áºù„ÄÅÂºÄÁÆ±Âç≥Áî®ÁöÑÈõÜÊàêÔºå‰ª•ÂÆûÁé∞Âº∫Â§ßÁöÑÂÖ•‰æµÈò≤Êä§„ÄÇ</p>
<h4 id="rhel">RHEL Ê≥®ÊÑè‰∫ãÈ°π</h4>
<div class="admonition warning">
<p class="admonition-title">RHEL-based Á≥ªÁªü‰∏äÁöÑÂ§ñÈÉ®Êï∞ÊçÆÂ∫ìÊîØÊåÅ</p>
<p>Â¶ÇÊûúÊÇ®ËÆ°Âàí‰ΩøÁî®Â§ñÈÉ®Êï∞ÊçÆÂ∫ìÔºàÊé®ËçêÁî®‰∫éÁîü‰∫ßÁéØÂ¢ÉÔºâÔºåÊÇ®ÂøÖÈ°ªÂÆâË£ÖÁõ∏Â∫îÁöÑÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËΩØ‰ª∂ÂåÖÔºö</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ÂØπ‰∫é MariaDB</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>mariadb

<span class="c1"># ÂØπ‰∫é MySQL</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>mysql

<span class="c1"># ÂØπ‰∫é PostgreSQL</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>postgresql
</code></pre></div>
<p>ËøôÊòØ BunkerWeb Ë∞ÉÂ∫¶Âô®ËøûÊé•Âà∞ÊÇ®ÁöÑÂ§ñÈÉ®Êï∞ÊçÆÂ∫ìÊâÄÂøÖÈúÄÁöÑ„ÄÇ</p>
</div>
<h4 id="_15">ÂÆâË£ÖÂêé</h4>
<p>Ê†πÊçÆÊÇ®Âú®ÂÆâË£ÖËøáÁ®ã‰∏≠ÁöÑÈÄâÊã©Ôºö</p>
<p><strong>ÂêØÁî®ËÆæÁΩÆÂêëÂØºÔºö</strong></p>
<ol>
<li>Âú®‰ª•‰∏ãÂú∞ÂùÄËÆøÈóÆËÆæÁΩÆÂêëÂØºÔºö<code>https://your-server-ip/setup</code></li>
<li>ÊåâÁÖßÂºïÂØºÈÖçÁΩÆÊù•ËÆæÁΩÆÊÇ®ÁöÑÁ¨¨‰∏Ä‰∏™Âèó‰øùÊä§ÁöÑÊúçÂä°</li>
<li>ÈÖçÁΩÆ SSL/TLS ËØÅ‰π¶ÂíåÂÖ∂‰ªñÂÆâÂÖ®ËÆæÁΩÆ</li>
</ol>
<p><strong>Êú™ÂêØÁî®ËÆæÁΩÆÂêëÂØºÔºö</strong></p>
<ol>
<li>ÁºñËæë <code>/etc/bunkerweb/variables.env</code> Êù•ÊâãÂä®ÈÖçÁΩÆ BunkerWeb</li>
<li>Ê∑ªÂä†ÊÇ®ÁöÑÊúçÂä°Âô®ËÆæÁΩÆÂíåÂèó‰øùÊä§ÁöÑÊúçÂä°</li>
<li>ÈáçÂêØË∞ÉÂ∫¶Âô®Ôºö<code>sudo systemctl restart bunkerweb-scheduler</code></li>
</ol>
<h3 id="_16">‰ΩøÁî®ÂåÖÁÆ°ÁêÜÂô®ÂÆâË£Ö</h3>
<p>ËØ∑Á°Æ‰øùÂú®ÂÆâË£Ö BunkerWeb ‰πãÂâç<strong>Â∑≤ÁªèÂÆâË£Ö‰∫Ü NGINX 1.28.0</strong>„ÄÇÂØπ‰∫éÈô§ Fedora ‰πãÂ§ñÁöÑÊâÄÊúâÂèëË°åÁâàÔºåÂº∫Âà∂Ë¶ÅÊ±Ç‰ΩøÁî®Êù•Ëá™<a href="https://nginx.org/en/linux_packages.html">ÂÆòÊñπ NGINX ‰ªìÂ∫ì</a>ÁöÑÈ¢ÑÊûÑÂª∫ÂåÖ„ÄÇ‰ªéÊ∫ê‰ª£Á†ÅÁºñËØë NGINX Êàñ‰ΩøÁî®Êù•Ëá™‰∏çÂêå‰ªìÂ∫ìÁöÑÂåÖÂ∞ÜÊó†Ê≥ï‰∏é BunkerWeb ÁöÑÂÆòÊñπÈ¢ÑÊûÑÂª∫ÂåÖ‰∏ÄËµ∑Â∑•‰Ωú„ÄÇ‰ΩÜÊòØÔºåÊÇ®ÂèØ‰ª•ÈÄâÊã©‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ BunkerWeb„ÄÇ</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Debian Bookworm/Trixie</label><label for="__tabbed_1_2">Ubuntu</label><label for="__tabbed_1_3">Fedora</label><label for="__tabbed_1_4">RedHat</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Á¨¨‰∏ÄÊ≠•ÊòØÊ∑ªÂä† NGINX ÂÆòÊñπ‰ªìÂ∫ìÔºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>curl<span class="w"> </span>gnupg2<span class="w"> </span>ca-certificates<span class="w"> </span>lsb-release<span class="w"> </span>debian-archive-keyring<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
curl<span class="w"> </span>https://nginx.org/keys/nginx_signing.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>gpg<span class="w"> </span>--dearmor<span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/usr/share/keyrings/nginx-archive-keyring.gpg<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \</span>
<span class="s2">http://nginx.org/packages/debian `lsb_release -cs` nginx&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/nginx.list
</code></pre></div>
<p>ÊÇ®Áé∞Âú®Â∫îËØ•ËÉΩÂ§üÂÆâË£Ö NGINX 1.28.0Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allow-downgrades<span class="w"> </span><span class="nv">nginx</span><span class="o">=</span><span class="m">1</span>.28.0-1~<span class="k">$(</span>lsb_release<span class="w"> </span>-cs<span class="k">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">ÊµãËØï/ÂºÄÂèëÁâàÊú¨</p>
<p>Â¶ÇÊûúÊÇ®‰ΩøÁî® <code>testing</code> Êàñ <code>dev</code> ÁâàÊú¨ÔºåÊÇ®ÈúÄË¶ÅÂú®ÂÆâË£Ö BunkerWeb ‰πãÂâçÂ∞Ü <code>force-bad-version</code> Êåá‰ª§Ê∑ªÂä†Âà∞ÊÇ®ÁöÑ <code>/etc/dpkg/dpkg.cfg</code> Êñá‰ª∂‰∏≠„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;force-bad-version&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/dpkg/dpkg.cfg
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Á¶ÅÁî®ËÆæÁΩÆÂêëÂØº</p>
<p>Â¶ÇÊûúÊÇ®‰∏çÂ∏åÊúõÂú®ÂÆâË£Ö BunkerWeb Êó∂‰ΩøÁî® Web UI ÁöÑËÆæÁΩÆÂêëÂØºÔºåËØ∑ÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">UI_WIZARD</span><span class="o">=</span>no
</code></pre></div>
</div>
<p>ÊúÄÂêéÂÆâË£Ö BunkerWeb testing-rc3Ôºö</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>https://repo.bunkerweb.io/install/script.deb.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>bash<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>-E<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allow-downgrades<span class="w"> </span><span class="nv">bunkerweb</span><span class="o">=</span>testing-rc3
</code></pre></div>
<p>Ë¶ÅÈò≤Ê≠¢Âú®ÊâßË°å <code>apt upgrade</code> Êó∂ÂçáÁ∫ß NGINX Âíå/Êàñ BunkerWeb ÂåÖÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-mark<span class="w"> </span>hold<span class="w"> </span>nginx<span class="w"> </span>bunkerweb
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Á¨¨‰∏ÄÊ≠•ÊòØÊ∑ªÂä† NGINX ÂÆòÊñπ‰ªìÂ∫ìÔºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>curl<span class="w"> </span>gnupg2<span class="w"> </span>ca-certificates<span class="w"> </span>lsb-release<span class="w"> </span>ubuntu-keyring<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
curl<span class="w"> </span>https://nginx.org/keys/nginx_signing.key<span class="w"> </span><span class="p">|</span><span class="w"> </span>gpg<span class="w"> </span>--dearmor<span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/usr/share/keyrings/nginx-archive-keyring.gpg<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [signed-by=/usr/share/keyrings/nginx-archive-keyring.gpg] \</span>
<span class="s2">http://nginx.org/packages/ubuntu `lsb_release -cs` nginx&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/nginx.list
</code></pre></div>
<p>ÊÇ®Áé∞Âú®Â∫îËØ•ËÉΩÂ§üÂÆâË£Ö NGINX 1.28.0Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allow-downgrades<span class="w"> </span><span class="nv">nginx</span><span class="o">=</span><span class="m">1</span>.28.0-1~<span class="k">$(</span>lsb_release<span class="w"> </span>-cs<span class="k">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">ÊµãËØï/ÂºÄÂèëÁâàÊú¨</p>
<p>Â¶ÇÊûúÊÇ®‰ΩøÁî® <code>testing</code> Êàñ <code>dev</code> ÁâàÊú¨ÔºåÊÇ®ÈúÄË¶ÅÂú®ÂÆâË£Ö BunkerWeb ‰πãÂâçÂ∞Ü <code>force-bad-version</code> Êåá‰ª§Ê∑ªÂä†Âà∞ÊÇ®ÁöÑ <code>/etc/dpkg/dpkg.cfg</code> Êñá‰ª∂‰∏≠„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;force-bad-version&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/dpkg/dpkg.cfg
</code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Á¶ÅÁî®ËÆæÁΩÆÂêëÂØº</p>
<p>Â¶ÇÊûúÊÇ®‰∏çÂ∏åÊúõÂú®ÂÆâË£Ö BunkerWeb Êó∂‰ΩøÁî® Web UI ÁöÑËÆæÁΩÆÂêëÂØºÔºåËØ∑ÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">UI_WIZARD</span><span class="o">=</span>no
</code></pre></div>
</div>
<p>ÊúÄÂêéÂÆâË£Ö BunkerWeb testing-rc3Ôºö</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>https://repo.bunkerweb.io/install/script.deb.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>bash<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>-E<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allow-downgrades<span class="w"> </span><span class="nv">bunkerweb</span><span class="o">=</span>testing-rc3
</code></pre></div>
<p>Ë¶ÅÈò≤Ê≠¢Âú®ÊâßË°å <code>apt upgrade</code> Êó∂ÂçáÁ∫ß NGINX Âíå/Êàñ BunkerWeb ÂåÖÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt-mark<span class="w"> </span>hold<span class="w"> </span>nginx<span class="w"> </span>bunkerweb
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="admonition info">
<p class="admonition-title">Fedora Êõ¥Êñ∞ÊµãËØï</p>
<p>Â¶ÇÊûúÊÇ®Âú®Á®≥ÂÆö‰ªìÂ∫ì‰∏≠Êâæ‰∏çÂà∞ÂàóÂá∫ÁöÑ NGINX ÁâàÊú¨ÔºåÂèØ‰ª•ÂêØÁî® <code>updates-testing</code> ‰ªìÂ∫ìÔºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>config-manager<span class="w"> </span>setopt<span class="w"> </span>updates-testing.enabled<span class="o">=</span><span class="m">1</span>
</code></pre></div>
</div>
<p>Fedora Â∑≤ÁªèÊèê‰æõ‰∫ÜÊàë‰ª¨ÊîØÊåÅÁöÑ NGINX 1.28.0</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allowerasing<span class="w"> </span>nginx-1.28.0
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Á¶ÅÁî®ËÆæÁΩÆÂêëÂØº</p>
<p>Â¶ÇÊûúÊÇ®‰∏çÂ∏åÊúõÂú®ÂÆâË£Ö BunkerWeb Êó∂‰ΩøÁî® Web UI ÁöÑËÆæÁΩÆÂêëÂØºÔºåËØ∑ÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">UI_WIZARD</span><span class="o">=</span>no
</code></pre></div>
</div>
<p>ÊúÄÂêéÂÆâË£Ö BunkerWeb testing-rc3Ôºö</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>https://repo.bunkerweb.io/install/script.rpm.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>bash<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>makecache<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>-E<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allowerasing<span class="w"> </span>bunkerweb-testing-rc3
</code></pre></div>
<p>Ë¶ÅÈò≤Ê≠¢Âú®ÊâßË°å <code>dnf upgrade</code> Êó∂ÂçáÁ∫ß NGINX Âíå/Êàñ BunkerWeb ÂåÖÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>versionlock<span class="w"> </span>add<span class="w"> </span>nginx<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>versionlock<span class="w"> </span>add<span class="w"> </span>bunkerweb
</code></pre></div>
</div>
<div class="tabbed-block">
<p>Á¨¨‰∏ÄÊ≠•ÊòØÊ∑ªÂä† NGINX ÂÆòÊñπ‰ªìÂ∫ì„ÄÇÂú® <code>/etc/yum.repos.d/nginx.repo</code> Â§ÑÂàõÂª∫‰ª•‰∏ãÊñá‰ª∂Ôºö</p>
<div class="highlight"><pre><span></span><code>[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true
</code></pre></div>
<p>ÊÇ®Áé∞Âú®Â∫îËØ•ËÉΩÂ§üÂÆâË£Ö NGINX 1.28.0Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>--allowerasing<span class="w"> </span>nginx-1.28.0
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Á¶ÅÁî®ËÆæÁΩÆÂêëÂØº</p>
<p>Â¶ÇÊûúÊÇ®‰∏çÂ∏åÊúõÂú®ÂÆâË£Ö BunkerWeb Êó∂‰ΩøÁî® Web UI ÁöÑËÆæÁΩÆÂêëÂØºÔºåËØ∑ÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">UI_WIZARD</span><span class="o">=</span>no
</code></pre></div>
</div>
<p>ÊúÄÂêéÂÆâË£Ö BunkerWeb testing-rc3Ôºö</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>https://repo.bunkerweb.io/install/script.rpm.sh<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>bash<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>check-update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>-E<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>--allowerasing<span class="w"> </span>bunkerweb-testing-rc3
</code></pre></div>
<p>Ë¶ÅÈò≤Ê≠¢Âú®ÊâßË°å <code>dnf upgrade</code> Êó∂ÂçáÁ∫ß NGINX Âíå/Êàñ BunkerWeb ÂåÖÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ôºö</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>dnf<span class="w"> </span>versionlock<span class="w"> </span>add<span class="w"> </span>nginx<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>versionlock<span class="w"> </span>add<span class="w"> </span>bunkerweb
</code></pre></div>
</div>
</div>
</div>
<h3 id="_17">ÈÖçÁΩÆÂíåÊúçÂä°</h3>
<p>BunkerWeb ÁöÑÊâãÂä®ÈÖçÁΩÆÊòØÈÄöËøáÁºñËæë <code>/etc/bunkerweb/variables.env</code> Êñá‰ª∂Êù•ÂÆåÊàêÁöÑÔºö</p>
<div class="highlight"><pre><span></span><code>MY_SETTING_1=value1
MY_SETTING_2=value2
...
</code></pre></div>
<p>ÂÆâË£ÖÂêéÔºåBunkerWeb Â∏¶Êúâ‰∏â‰∏™ÊúçÂä° <code>bunkerweb</code>„ÄÅ<code>bunkerweb-scheduler</code> Âíå <code>bunkerweb-ui</code>ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® <code>systemctl</code> Êù•ÁÆ°ÁêÜÂÆÉ‰ª¨„ÄÇ</p>
<p>Â¶ÇÊûúÊÇ®ÊâãÂä®ÁºñËæë‰∫Ü BunkerWeb ÁöÑÈÖçÁΩÆÔºà‰ΩøÁî® <code>/etc/bunkerweb/variables.env</code>ÔºâÔºåÈáçÂêØ <code>bunkerweb-scheduler</code> ÊúçÂä°Â∞±Ë∂≥‰ª•ÁîüÊàêÂπ∂ÈáçÊñ∞Âä†ËΩΩÈÖçÁΩÆÔºåËÄå‰∏ç‰ºöÊúâ‰ªª‰ΩïÂÅúÊú∫Êó∂Èó¥„ÄÇ‰ΩÜÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºà‰æãÂ¶ÇÊõ¥ÊîπÁõëÂê¨Á´ØÂè£ÔºâÔºåÊÇ®ÂèØËÉΩÈúÄË¶ÅÈáçÂêØ <code>bunkerweb</code> ÊúçÂä°„ÄÇ</p>
<h3 id="_18">È´òÂèØÁî®ÊÄß</h3>
<p>Ë∞ÉÂ∫¶Âô®ÂèØ‰ª•‰∏é BunkerWeb ÂÆû‰æãÂàÜÁ¶ªÔºå‰ª•Êèê‰æõÈ´òÂèØÁî®ÊÄß„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåË∞ÉÂ∫¶Âô®Â∞ÜÂÆâË£ÖÂú®‰∏ÄÂè∞Áã¨Á´ãÁöÑÊúçÂä°Âô®‰∏äÔºåÂπ∂ËÉΩÂ§üÁÆ°ÁêÜÂ§ö‰∏™ BunkerWeb ÂÆû‰æã„ÄÇ</p>
<h4 id="_19">ÁÆ°ÁêÜÂô®</h4>
<p>Ë¶Å‰ªÖÂú®ÊúçÂä°Âô®‰∏äÂÆâË£ÖË∞ÉÂ∫¶Âô®ÔºåÊÇ®ÂèØ‰ª•Âú®ÊâßË°å BunkerWeb ÂÆâË£Ö‰πãÂâçÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">MANAGER_MODE</span><span class="o">=</span>yes
<span class="nb">export</span><span class="w"> </span><span class="nv">UI_WIZARD</span><span class="o">=</span>no
</code></pre></div>
<p>ÊàñËÄÖÔºåÊÇ®‰πüÂèØ‰ª•ÂØºÂá∫‰ª•‰∏ãÂèòÈáè‰ª•‰ªÖÂêØÁî®Ë∞ÉÂ∫¶Âô®Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_SCHEDULER</span><span class="o">=</span>yes
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_BUNKERWEB</span><span class="o">=</span>no
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_UI</span><span class="o">=</span>no
</code></pre></div>
<h4 id="_20">Â∑•‰ΩúËäÇÁÇπ</h4>
<p>Âú®Âè¶‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÔºåË¶Å‰ªÖÂÆâË£Ö BunkerWebÔºåÊÇ®ÂèØ‰ª•Âú®ÊâßË°å BunkerWeb ÂÆâË£Ö‰πãÂâçÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">WORKER_MODE</span><span class="o">=</span>yes
</code></pre></div>
<p>ÊàñËÄÖÔºåÊÇ®‰πüÂèØ‰ª•ÂØºÂá∫‰ª•‰∏ãÂèòÈáè‰ª•‰ªÖÂêØÁî® BunkerWebÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_BUNKERWEB</span><span class="o">=</span>yes
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_SCHEDULER</span><span class="o">=</span>no
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_UI</span><span class="o">=</span>no
</code></pre></div>
<h4 id="web-ui">Web UI</h4>
<p>Web UI ÂèØ‰ª•ÂÆâË£ÖÂú®‰∏ÄÂè∞Áã¨Á´ãÁöÑÊúçÂä°Âô®‰∏äÔºå‰ª•Êèê‰æõ‰∏Ä‰∏™‰∏ìÈó®Áî®‰∫éÁÆ°ÁêÜ BunkerWeb ÂÆû‰æãÁöÑÁïåÈù¢„ÄÇË¶Å‰ªÖÂÆâË£Ö Web UIÔºåÊÇ®ÂèØ‰ª•Âú®ÊâßË°å BunkerWeb ÂÆâË£Ö‰πãÂâçÂØºÂá∫‰ª•‰∏ãÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_BUNKERWEB</span><span class="o">=</span>no
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_SCHEDULER</span><span class="o">=</span>no
<span class="nb">export</span><span class="w"> </span><span class="nv">SERVICE_UI</span><span class="o">=</span>yes
</code></pre></div>
<h2 id="docker">Docker Ëá™Âä®ÈÖçÁΩÆ</h2>
<figure>
<p><img align="center," alt="Ê¶ÇËø∞" src="../../assets/img/integration-autoconf.svg" width="600" />
  </p>
<figcaption>Docker Ëá™Âä®ÈÖçÁΩÆÈõÜÊàê</figcaption>
</figure>
<div class="admonition info">
<p class="admonition-title">Docker ÈõÜÊàê</p>
<p>Docker Ëá™Âä®ÈÖçÁΩÆÈõÜÊàêÊòØ Docker ÈõÜÊàêÁöÑ‰∏Ä‰∏™‚ÄúÊºîËøõ‚Äù„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÔºåËØ∑ÂÖàÈòÖËØª<a href="#docker">Docker ÈõÜÊàêÈÉ®ÂàÜ</a>„ÄÇ</p>
</div>
<p>Êúâ‰∏ÄÁßçÊõø‰ª£ÊñπÊ≥ïÂèØ‰ª•Ëß£ÂÜ≥ÊØèÊ¨°Êõ¥Êñ∞Êó∂ÈÉΩÈúÄË¶ÅÈáçÊñ∞ÂàõÂª∫ÂÆπÂô®ÁöÑ‰∏ç‰æø„ÄÇÈÄöËøá‰ΩøÁî®Âè¶‰∏Ä‰∏™Âêç‰∏∫ <strong>autoconf</strong> ÁöÑÈïúÂÉèÔºåÊÇ®ÂèØ‰ª•Ëá™Âä®ÂÆûÊó∂ÈáçÊñ∞ÈÖçÁΩÆ BunkerWebÔºåËÄåÊó†ÈúÄÈáçÊñ∞ÂàõÂª∫ÂÆπÂô®„ÄÇ</p>
<p>Ë¶ÅÂà©Áî®Ê≠§ÂäüËÉΩÔºåÊÇ®ÂèØ‰ª•‰∏∫ÊÇ®ÁöÑ Web Â∫îÁî®Á®ãÂ∫èÂÆπÂô®Ê∑ªÂä†<strong>Ê†áÁ≠æ</strong>ÔºåËÄå‰∏çÊòØ‰∏∫ BunkerWeb ÂÆπÂô®ÂÆö‰πâÁéØÂ¢ÉÂèòÈáè„ÄÇÁÑ∂ÂêéÔºå<strong>autoconf</strong> ÈïúÂÉèÂ∞ÜÁõëÂê¨ Docker ‰∫ã‰ª∂ÔºåÂπ∂Êó†ÁºùÂ§ÑÁêÜ BunkerWeb ÁöÑÈÖçÁΩÆÊõ¥Êñ∞„ÄÇ</p>
<p>Ëøô‰∏™‚Äú<em>Ëá™Âä®Âåñ</em>‚ÄùËøáÁ®ãÁÆÄÂåñ‰∫Ü BunkerWeb ÈÖçÁΩÆÁöÑÁÆ°ÁêÜ„ÄÇÈÄöËøá‰∏∫ÊÇ®ÁöÑ Web Â∫îÁî®Á®ãÂ∫èÂÆπÂô®Ê∑ªÂä†Ê†áÁ≠æÔºåÊÇ®ÂèØ‰ª•Â∞ÜÈáçÊñ∞ÈÖçÁΩÆ‰ªªÂä°ÂßîÊâòÁªô <strong>autoconf</strong>ÔºåËÄåÊó†ÈúÄÊâãÂä®Âπ≤È¢ÑÂÆπÂô®ÁöÑÈáçÊñ∞ÂàõÂª∫„ÄÇËøôÁÆÄÂåñ‰∫ÜÊõ¥Êñ∞ËøáÁ®ãÂπ∂Â¢ûÂº∫‰∫Ü‰æøÂà©ÊÄß„ÄÇ</p>
<p>ÈÄöËøáÈááÁî®ËøôÁßçÊñπÊ≥ïÔºåÊÇ®ÂèØ‰ª•‰∫´Âèó BunkerWeb ÁöÑÂÆûÊó∂ÈáçÊñ∞ÈÖçÁΩÆÔºåËÄåÊó†ÈúÄÈáçÊñ∞ÂàõÂª∫ÂÆπÂô®ÁöÑÈ∫ªÁÉ¶Ôºå‰ΩøÂÖ∂Êõ¥È´òÊïà„ÄÅÊõ¥Áî®Êà∑ÂèãÂ•Ω„ÄÇ</p>
<div class="admonition info">
<p class="admonition-title">Â§öÁ´ôÁÇπÊ®°Âºè</p>
<p>Docker Ëá™Âä®ÈÖçÁΩÆÈõÜÊàêÊÑèÂë≥ÁùÄ‰ΩøÁî®<strong>Â§öÁ´ôÁÇπÊ®°Âºè</strong>„ÄÇÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖÊñáÊ°£ÁöÑ<a href="../concepts/#multisite-mode">Â§öÁ´ôÁÇπÈÉ®ÂàÜ</a>„ÄÇ</p>
</div>
<div class="admonition info">
<p class="admonition-title">Êï∞ÊçÆÂ∫ìÂêéÁ´Ø</p>
<p>ËØ∑Ê≥®ÊÑèÔºåÊàë‰ª¨ÁöÑËØ¥ÊòéÂÅáËÆæÊÇ®Ê≠£Âú®‰ΩøÁî® MariaDB ‰Ωú‰∏∫ÈªòËÆ§ÁöÑÊï∞ÊçÆÂ∫ìÂêéÁ´ØÔºåËøôÊòØÁî± <code>DATABASE_URI</code> ËÆæÁΩÆÈÖçÁΩÆÁöÑ„ÄÇ‰ΩÜÊòØÔºåÊàë‰ª¨ÁêÜËß£ÊÇ®ÂèØËÉΩÊõ¥ÂñúÊ¨¢‰∏∫ÊÇ®ÁöÑ Docker ÈõÜÊàê‰ΩøÁî®ÂÖ∂‰ªñÂêéÁ´Ø„ÄÇÂ¶ÇÊûúÊòØËøôÊ†∑ÔºåËØ∑ÊîæÂøÉÔºåÂÖ∂‰ªñÊï∞ÊçÆÂ∫ìÂêéÁ´Ø‰ªçÁÑ∂ÊòØÂèØË°åÁöÑ„ÄÇÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ‰ªìÂ∫ìÁöÑ <a href="https://github.com/bunkerity/bunkerweb/tree/vtesting-rc3/misc/integrations">misc/integrations Êñá‰ª∂Â§π</a>‰∏≠ÁöÑ docker-compose Êñá‰ª∂„ÄÇ</p>
</div>
<p>Ë¶ÅÂêØÁî®Ëá™Âä®ÈÖçÁΩÆÊõ¥Êñ∞ÔºåËØ∑Âú®Â†ÜÊ†à‰∏≠ÂåÖÂê´‰∏Ä‰∏™Âêç‰∏∫ <code>bw-autoconf</code> ÁöÑÈ¢ùÂ§ñÂÆπÂô®„ÄÇÊ≠§ÂÆπÂô®ÊâøËΩΩËá™Âä®ÈÖçÁΩÆÊúçÂä°ÔºåËØ•ÊúçÂä°ÁÆ°ÁêÜ BunkerWeb ÁöÑÂä®ÊÄÅÈÖçÁΩÆÊõ¥Êîπ„ÄÇ</p>
<p>‰∏∫‰∫ÜÊîØÊåÅÊ≠§ÂäüËÉΩÔºåËØ∑‰ΩøÁî®‰∏Ä‰∏™‰∏ìÁî®ÁöÑ‚ÄúÁúüÂÆû‚ÄùÊï∞ÊçÆÂ∫ìÂêéÁ´ØÔºà‰æãÂ¶ÇÔºåMariaDB„ÄÅMySQL Êàñ PostgreSQLÔºâËøõË°åÂêåÊ≠•ÈÖçÁΩÆÂ≠òÂÇ®„ÄÇÈÄöËøáÈõÜÊàê <code>bw-autoconf</code> ÂíåÂêàÈÄÇÁöÑÊï∞ÊçÆÂ∫ìÂêéÁ´ØÔºåÊÇ®‰∏∫ BunkerWeb ‰∏≠Êó†ÁºùÁöÑËá™Âä®ÈÖçÁΩÆÁÆ°ÁêÜÂª∫Á´ã‰∫ÜÂü∫Á°ÄËÆæÊñΩ„ÄÇ</p>
<div class="highlight"><pre><span></span><code><span class="nt">x-bw-env</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;bw-env</span>
<span class="w">  </span><span class="c1"># Êàë‰ª¨‰ΩøÁî®‰∏Ä‰∏™ÈîöÁÇπÊù•ÈÅøÂÖçÂú®‰∏§‰∏™ÂÆπÂô®‰∏≠ÈáçÂ§çÁõ∏ÂêåÁöÑËÆæÁΩÆ</span>
<span class="w">  </span><span class="nt">AUTOCONF_MODE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">  </span><span class="nt">API_WHITELIST_IP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.0/8</span><span class="nv"> </span><span class="s">10.20.30.0/24&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:8080/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/tcp&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:8443/udp&quot;</span><span class="w"> </span><span class="c1"># QUIC</span>
<span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.INSTANCE=yes&quot;</span><span class="w"> </span><span class="c1"># Ëá™Âä®ÈÖçÁΩÆÊúçÂä°ËØÜÂà´ BunkerWeb ÂÆû‰æãÁöÑÂº∫Âà∂ÊÄßÊ†áÁ≠æ</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-env</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>

<span class="w">  </span><span class="nt">bw-scheduler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-scheduler:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-env</span>
<span class="w">      </span><span class="nt">BUNKERWEB_INSTANCES</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># Êàë‰ª¨‰∏çÈúÄË¶ÅÂú®ËøôÈáåÊåáÂÆö BunkerWeb ÂÆû‰æãÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Áî±Ëá™Âä®ÈÖçÁΩÆÊúçÂä°Ëá™Âä®Ê£ÄÊµã</span>
<span class="w">      </span><span class="nt">SERVER_NAME</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># ÊúçÂä°Âô®ÂêçÁß∞Â∞ÜÁî±ÊúçÂä°Ê†áÁ≠æÂ°´ÂÖÖ</span>
<span class="w">      </span><span class="nt">MULTISITE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span><span class="w"> </span><span class="c1"># Ëá™Âä®ÈÖçÁΩÆÁöÑÂº∫Âà∂ÊÄßËÆæÁΩÆ</span>
<span class="w">      </span><span class="nt">DATABASE_URI</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb+pymysql://bunkerweb:changeme@bw-db:3306/db&quot;</span><span class="w"> </span><span class="c1"># ËÆ∞Âæó‰∏∫Êï∞ÊçÆÂ∫ìËÆæÁΩÆ‰∏Ä‰∏™Êõ¥Âº∫ÁöÑÂØÜÁ†Å</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-storage:/data</span><span class="w"> </span><span class="c1"># Áî®‰∫éÊåÅ‰πÖÂåñÁºìÂ≠òÂíåÂ§á‰ªΩÁ≠âÂÖ∂‰ªñÊï∞ÊçÆ</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>

<span class="w">  </span><span class="nt">bw-autoconf</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-autoconf:testing-rc3</span>
<span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">AUTOCONF_MODE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">DATABASE_URI</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb+pymysql://bunkerweb:changeme@bw-db:3306/db&quot;</span><span class="w"> </span><span class="c1"># ËÆ∞Âæó‰∏∫Êï∞ÊçÆÂ∫ìËÆæÁΩÆ‰∏Ä‰∏™Êõ¥Âº∫ÁöÑÂØÜÁ†Å</span>
<span class="w">      </span><span class="nt">DOCKER_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;tcp://bw-docker:2375&quot;</span><span class="w"> </span><span class="c1"># Docker Â•óÊé•Â≠ó</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>

<span class="w">  </span><span class="nt">bw-docker</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tecnativa/docker-socket-proxy:nightly</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/docker.sock:/var/run/docker.sock:ro</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">CONTAINERS</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="w">      </span><span class="nt">LOG_LEVEL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;warning&quot;</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>

<span class="w">  </span><span class="nt">bw-db</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mariadb:11</span>
<span class="w">    </span><span class="c1"># Êàë‰ª¨ËÆæÁΩÆ‰∫ÜÊúÄÂ§ßÂÖÅËÆ∏ÁöÑÊï∞ÊçÆÂåÖÂ§ßÂ∞è‰ª•ÈÅøÂÖçÂ§ßÊü•ËØ¢ÁöÑÈóÆÈ¢ò</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--max-allowed-packet=67108864</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">MYSQL_RANDOM_ROOT_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">MYSQL_DATABASE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;db&quot;</span>
<span class="w">      </span><span class="nt">MYSQL_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bunkerweb&quot;</span>
<span class="w">      </span><span class="nt">MYSQL_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;changeme&quot;</span><span class="w"> </span><span class="c1"># ËÆ∞Âæó‰∏∫Êï∞ÊçÆÂ∫ìËÆæÁΩÆ‰∏Ä‰∏™Êõ¥Âº∫ÁöÑÂØÜÁ†Å</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-data:/var/lib/mysql</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>

<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-data</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-storage</span><span class="p">:</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-universe</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">    </span><span class="nt">ipam</span><span class="p">:</span>
<span class="w">      </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.30.0/24</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">  </span><span class="nt">bw-docker</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>
<span class="w">  </span><span class="nt">bw-db</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Êï∞ÊçÆÂ∫ìÂú® <code>bw-db</code> ÁΩëÁªú‰∏≠</p>
<p>Êï∞ÊçÆÂ∫ìÂÆπÂô®ÊúâÊÑèÊú™ÂåÖÂê´Âú® <code>bw-universe</code> ÁΩëÁªú‰∏≠„ÄÇÂÆÉÁî± <code>bw-autoconf</code> Âíå <code>bw-scheduler</code> ÂÆπÂô®‰ΩøÁî®ÔºåËÄå‰∏çÊòØÁõ¥Êé•Áî± BunkerWeb ‰ΩøÁî®„ÄÇÂõ†Ê≠§ÔºåÊï∞ÊçÆÂ∫ìÂÆπÂô®ÊòØ <code>bw-db</code> ÁΩëÁªúÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËøôÈÄöËøá‰ΩøÂØπÊï∞ÊçÆÂ∫ìÁöÑÂ§ñÈÉ®ËÆøÈóÆÊõ¥ÂÖ∑ÊåëÊàòÊÄßÊù•Â¢ûÂº∫ÂÆâÂÖ®ÊÄß„ÄÇ<strong>ËøôÁßçÂàªÊÑèÁöÑËÆæËÆ°ÈÄâÊã©ÊúâÂä©‰∫é‰øùÊä§Êï∞ÊçÆÂ∫ìÂπ∂Âä†Âº∫Á≥ªÁªüÁöÑÊï¥‰ΩìÂÆâÂÖ®ËßÜËßí</strong>„ÄÇ</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Âú®Êó†Ê†πÊ®°Âºè‰∏ã‰ΩøÁî® Docker</p>
<p>Â¶ÇÊûúÊÇ®Ê≠£Âú®‰ΩøÁî®<a href="https://docs.docker.com/engine/security/rootless">Êó†Ê†πÊ®°ÂºèÁöÑ Docker</a>ÔºåÊÇ®ÈúÄË¶ÅÂ∞Ü docker Â•óÊé•Â≠óÁöÑÊåÇËΩΩÊõøÊç¢‰∏∫‰ª•‰∏ãÂÄºÔºö<code>$XDG_RUNTIME_DIR/docker.sock:/var/run/docker.sock:ro</code>„ÄÇ</p>
</div>
<h3 id="_21">Ëá™Âä®ÈÖçÁΩÆÊúçÂä°</h3>
<p>‰∏ÄÊó¶Â†ÜÊ†àËÆæÁΩÆÂ•ΩÔºåÊÇ®Â∞ÜËÉΩÂ§üÂàõÂª∫ Web Â∫îÁî®Á®ãÂ∫èÂÆπÂô®ÔºåÂπ∂‰ΩøÁî®‚Äúbunkerweb.‚ÄùÂâçÁºÄÂ∞ÜËÆæÁΩÆÊ∑ªÂä†‰∏∫Ê†áÁ≠æÔºå‰ª•‰æøËá™Âä®ËÆæÁΩÆ BunkerWebÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">myapp</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mywebapp:4.2</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_1=value1&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_2=value2&quot;</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
</code></pre></div>
<h3 id="_22">ÂëΩÂêçÁ©∫Èó¥</h3>
<p>‰ªé <code>1.6.0</code> ÁâàÊú¨ÂºÄÂßãÔºåBunkerWeb ÁöÑËá™Âä®ÈÖçÁΩÆÂ†ÜÊ†àÁé∞Âú®ÊîØÊåÅÂëΩÂêçÁ©∫Èó¥„ÄÇÊ≠§ÂäüËÉΩ‰ΩøÊÇ®ËÉΩÂ§üÂú®Âêå‰∏Ä‰∏™ Docker ‰∏ªÊú∫‰∏äÁÆ°ÁêÜÂ§ö‰∏™ BunkerWeb ÂÆû‰æãÂíåÊúçÂä°ÁöÑ‚Äú<em>ÈõÜÁæ§</em>‚Äù„ÄÇË¶ÅÂà©Áî®ÂëΩÂêçÁ©∫Èó¥ÔºåÂè™ÈúÄÂú®ÊÇ®ÁöÑÊúçÂä°‰∏äËÆæÁΩÆ <code>NAMESPACE</code> Ê†áÁ≠æ„ÄÇËøôÊòØ‰∏Ä‰∏™Á§∫‰æãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">myapp</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mywebapp:4.2</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.NAMESPACE=my-namespace&quot;</span><span class="w"> </span><span class="c1"># ‰∏∫ÊúçÂä°ËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_1=value1&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_2=value2&quot;</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">ÂëΩÂêçÁ©∫Èó¥Ë°å‰∏∫</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊâÄÊúâËá™Âä®ÈÖçÁΩÆÂ†ÜÊ†àÈÉΩÁõëÂê¨ÊâÄÊúâÂëΩÂêçÁ©∫Èó¥„ÄÇÂ¶ÇÊûúÊÇ®ÊÉ≥Â∞Ü‰∏Ä‰∏™Â†ÜÊ†àÈôêÂà∂Âú®ÁâπÂÆöÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÂèØ‰ª•Âú® <code>bw-autoconf</code> ÊúçÂä°‰∏≠ËÆæÁΩÆ <code>NAMESPACES</code> ÁéØÂ¢ÉÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nn">...</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.INSTANCE=yes&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.NAMESPACE=my-namespace&quot;</span><span class="w"> </span><span class="c1"># ‰∏∫ BunkerWeb ÂÆû‰æãËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥Ôºå‰ª•‰æøËá™Âä®ÈÖçÁΩÆÊúçÂä°ÂèØ‰ª•Ê£ÄÊµãÂà∞ÂÆÉ</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">bw-autoconf</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-autoconf:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">NAMESPACES</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;my-namespace</span><span class="nv"> </span><span class="s">my-other-namespace&quot;</span><span class="w"> </span><span class="c1"># Âè™ÁõëÂê¨Ëøô‰∫õÂëΩÂêçÁ©∫Èó¥</span>
<span class="nn">...</span>
</code></pre></div>
<p>ËØ∑ËÆ∞‰ΩèÔºå<code>NAMESPACES</code> ÁéØÂ¢ÉÂèòÈáèÊòØ‰∏Ä‰∏™‰ª•Á©∫Ê†ºÂàÜÈöîÁöÑÂëΩÂêçÁ©∫Èó¥ÂàóË°®„ÄÇ</p>
</div>
<div class="admonition warning">
<p class="admonition-title">ÂëΩÂêçÁ©∫Èó¥ËßÑËåÉ</p>
<p>ÊØè‰∏™ÂëΩÂêçÁ©∫Èó¥Âè™ËÉΩÊúâ<strong>‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì</strong>Âíå<strong>‰∏Ä‰∏™Ë∞ÉÂ∫¶Âô®</strong>„ÄÇÂ¶ÇÊûúÊÇ®Â∞ùËØïÂú®Âêå‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥‰∏≠ÂàõÂª∫Â§ö‰∏™Êï∞ÊçÆÂ∫ìÊàñË∞ÉÂ∫¶Âô®ÔºåÈÖçÁΩÆÊúÄÁªà‰ºöÁõ∏‰∫íÂÜ≤Á™Å„ÄÇ</p>
<p>Ë∞ÉÂ∫¶Âô®‰∏çÈúÄË¶Å <code>NAMESPACE</code> Ê†áÁ≠æÂç≥ÂèØÊ≠£Â∏∏Â∑•‰Ωú„ÄÇÂÆÉÂè™ÈúÄË¶ÅÊ≠£Á°ÆÈÖçÁΩÆ <code>DATABASE_URI</code> ËÆæÁΩÆÔºå‰ª•‰æøÂÆÉÂèØ‰ª•ËÆøÈóÆ‰∏éËá™Âä®ÈÖçÁΩÆÊúçÂä°Áõ∏ÂêåÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ</p>
</div>
<h2 id="kubernetes">Kubernetes</h2>
<figure>
<p><img align="center," alt="Ê¶ÇËø∞" src="../../assets/img/integration-kubernetes.svg" width="600" />
  </p>
<figcaption>Kubernetes ÈõÜÊàê</figcaption>
</figure>
<p>‰∏∫‰∫ÜÂú® Kubernetes ÁéØÂ¢É‰∏≠Ëá™Âä®Âåñ BunkerWeb ÂÆû‰æãÁöÑÈÖçÁΩÆÔºåautoconf ÊúçÂä°ÂÖÖÂΩì‰∏Ä‰∏™ <a href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/">Ingress ÊéßÂà∂Âô®</a>„ÄÇÂÆÉÊ†πÊçÆ <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/">Ingress ËµÑÊ∫ê</a>ÈÖçÁΩÆ BunkerWeb ÂÆû‰æãÔºåÂπ∂ÁõëÊéßÂÖ∂‰ªñ Kubernetes ÂØπË±°Ôºå‰æãÂ¶Ç <a href="https://kubernetes.io/docs/concepts/configuration/configmap/">ConfigMap</a>Ôºå‰ª•Ëé∑ÂèñËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇ</p>
<p>‰∏∫‰∫ÜËé∑ÂæóÊúÄ‰Ω≥ËÆæÁΩÆÔºåÂª∫ËÆÆÂ∞Ü BunkerWeb ÂÆö‰πâ‰∏∫‰∏Ä‰∏™ <strong><a href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/">DaemonSet</a></strong>ÔºåËøôÊ†∑ÂèØ‰ª•Á°Æ‰øùÂú®ÊâÄÊúâËäÇÁÇπ‰∏äÈÉΩÂàõÂª∫‰∏Ä‰∏™ podÔºåËÄåÂ∞Ü <strong>autoconf Âíå scheduler</strong> ÂÆö‰πâ‰∏∫<strong>Âçï‰∏™ÂâØÊú¨ÁöÑ <a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Deployment</a></strong>„ÄÇ</p>
<p>Èâ¥‰∫éÂ≠òÂú®Â§ö‰∏™ BunkerWeb ÂÆû‰æãÔºåÊúâÂøÖË¶ÅÂª∫Á´ã‰∏Ä‰∏™ÂÖ±‰∫´Êï∞ÊçÆÂ≠òÂÇ®ÔºåÂÆûÁé∞‰∏∫‰∏Ä‰∏™ <a href="https://redis.io/">Redis</a> Êàñ <a href="https://valkey.io/">Valkey</a> ÊúçÂä°„ÄÇËøô‰∫õÂÆû‰æãÂ∞ÜÂà©Áî®ËØ•ÊúçÂä°Êù•ÁºìÂ≠òÂíåÂÖ±‰∫´ÂΩºÊ≠§‰πãÈó¥ÁöÑÊï∞ÊçÆ„ÄÇÊúâÂÖ≥ Redis/Valkey ËÆæÁΩÆÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇËßÅ<a href="../features/#redis">Ê≠§Â§Ñ</a>„ÄÇ</p>
<div class="admonition info">
<p class="admonition-title">Êï∞ÊçÆÂ∫ìÂêéÁ´Ø</p>
<p>ËØ∑Ê≥®ÊÑèÔºåÊàë‰ª¨ÁöÑËØ¥ÊòéÂÅáËÆæÊÇ®Ê≠£Âú®‰ΩøÁî® MariaDB ‰Ωú‰∏∫ÈªòËÆ§ÁöÑÊï∞ÊçÆÂ∫ìÂêéÁ´ØÔºåËøôÊòØÁî± <code>DATABASE_URI</code> ËÆæÁΩÆÈÖçÁΩÆÁöÑ„ÄÇ‰ΩÜÊòØÔºåÊàë‰ª¨ÁêÜËß£ÊÇ®ÂèØËÉΩÊõ¥ÂñúÊ¨¢‰∏∫ÊÇ®ÁöÑ Docker ÈõÜÊàê‰ΩøÁî®ÂÖ∂‰ªñÂêéÁ´Ø„ÄÇÂ¶ÇÊûúÊòØËøôÊ†∑ÔºåËØ∑ÊîæÂøÉÔºåÂÖ∂‰ªñÊï∞ÊçÆÂ∫ìÂêéÁ´Ø‰ªçÁÑ∂ÊòØÂèØË°åÁöÑ„ÄÇÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ‰ªìÂ∫ìÁöÑ <a href="https://github.com/bunkerity/bunkerweb/tree/vtesting-rc3/misc/integrations">misc/integrations Êñá‰ª∂Â§π</a>‰∏≠ÁöÑ docker-compose Êñá‰ª∂„ÄÇ</p>
<p>ÈõÜÁæ§Êï∞ÊçÆÂ∫ìÂêéÁ´ØÁöÑËÆæÁΩÆË∂ÖÂá∫‰∫ÜÊú¨ÊñáÊ°£ÁöÑËåÉÂõ¥„ÄÇ</p>
</div>
<p>ËØ∑Á°Æ‰øùËá™Âä®ÈÖçÁΩÆÊúçÂä°ÊúâÊùÉËÆøÈóÆ Kubernetes API„ÄÇÂª∫ËÆÆ‰∏∫Ê≠§ÁõÆÁöÑÂà©Áî® <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/">RBAC ÊéàÊùÉ</a>„ÄÇ</p>
<div class="admonition warning">
<p class="admonition-title">Kubernetes API ÁöÑËá™ÂÆö‰πâ CA</p>
<p>Â¶ÇÊûúÊÇ®‰∏∫ÊÇ®ÁöÑ Kubernetes API ‰ΩøÁî®Ëá™ÂÆö‰πâ CAÔºåÊÇ®ÂèØ‰ª•Âú® ingress ÊéßÂà∂Âô®‰∏äÊåÇËΩΩ‰∏Ä‰∏™ÂåÖÂê´ÊÇ®ÁöÑ‰∏≠Èó¥ËØÅ‰π¶ÂíåÊ†πËØÅ‰π¶ÁöÑÊçÜÁªëÊñá‰ª∂ÔºåÂπ∂Â∞Ü <code>KUBERNETES_SSL_CA_CERT</code> ÁéØÂ¢ÉÂèòÈáèÁöÑÂÄºËÆæÁΩÆ‰∏∫ÂÆπÂô®ÂÜÖÊçÜÁªëÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇÊàñËÄÖÔºåÂç≥‰Ωø‰∏çÊé®ËçêÔºåÊÇ®‰πüÂèØ‰ª•ÈÄöËøáÂ∞Ü ingress ÊéßÂà∂Âô®ÁöÑ <code>KUBERNETES_SSL_VERIFY</code> ÁéØÂ¢ÉÂèòÈáèËÆæÁΩÆ‰∏∫ <code>no</code>ÔºàÈªòËÆ§‰∏∫ <code>yes</code>ÔºâÊù•Á¶ÅÁî®ËØÅ‰π¶È™åËØÅ„ÄÇ</p>
</div>
<p>Ê≠§Â§ñÔºå<strong>Âú®‰ΩøÁî® Kubernetes ÈõÜÊàêÊó∂ÔºåÂ∞Ü <code>KUBERNETES_MODE</code> ÁéØÂ¢ÉÂèòÈáèËÆæÁΩÆ‰∏∫ <code>yes</code> Ëá≥ÂÖ≥ÈáçË¶Å</strong>„ÄÇÊ≠§ÂèòÈáèÊòØÊ≠£Â∏∏ËøêË°åÊâÄÂøÖÈúÄÁöÑ„ÄÇ</p>
<h3 id="_23">ÂÆâË£ÖÊñπÊ≥ï</h3>
<h4 id="helm-chart">‰ΩøÁî® helm chartÔºàÊé®ËçêÔºâ</h4>
<p>ÂÆâË£Ö Kubernetes ÁöÑÊé®ËçêÊñπÊ≥ïÊòØ‰ΩøÁî®‰Ωç‰∫é <code>https://repo.bunkerweb.io/charts</code> ÁöÑ Helm chartÔºö</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>bunkerweb<span class="w"> </span>https://repo.bunkerweb.io/charts
</code></pre></div>
<p>ÁÑ∂ÂêéÊÇ®ÂèØ‰ª•‰ΩøÁî®ËØ•‰ªìÂ∫ì‰∏≠ÁöÑ bunkerweb helm chartÔºö</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>install<span class="w"> </span>-f<span class="w"> </span>myvalues.yaml<span class="w"> </span>mybunkerweb<span class="w"> </span>bunkerweb/bunkerweb
</code></pre></div>
<p>ÂÄºÁöÑÂÆåÊï¥ÂàóË°®Âú® <a href="https://github.com/bunkerity/bunkerweb-helm">bunkerity/bunkerweb-helm ‰ªìÂ∫ì</a> ÁöÑ <a href="https://github.com/bunkerity/bunkerweb-helm/blob/main/charts/bunkerweb/values.yaml">charts/bunkerweb/values.yaml Êñá‰ª∂</a> ‰∏≠ÂàóÂá∫„ÄÇ</p>
<h4 id="yaml">ÂÆåÊï¥ÁöÑ YAML Êñá‰ª∂</h4>
<p>Èô§‰∫Ü‰ΩøÁî® helm chartÔºåÊÇ®ËøòÂèØ‰ª•‰ΩøÁî® GitHub ‰ªìÂ∫ì‰∏≠ <a href="https://github.com/bunkerity/bunkerweb/tree/vtesting-rc3/misc/integrations">misc/integrations Êñá‰ª∂Â§π</a>ÂÜÖÁöÑ YAML Ê†∑ÊùøÊñá‰ª∂„ÄÇËØ∑Ê≥®ÊÑèÔºåÊàë‰ª¨Âº∫ÁÉàÂª∫ËÆÆÊÇ®ÊîπÁî® helm chart„ÄÇ</p>
<h3 id="ingress">Ingress ËµÑÊ∫ê</h3>
<p>‰∏ÄÊó¶ BunkerWeb Kubernetes Â†ÜÊ†àÊàêÂäüËÆæÁΩÆÂπ∂ËøêË°åÔºàÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖËá™Âä®ÈÖçÁΩÆÊó•ÂøóÔºâÔºåÊÇ®Â∞±ÂèØ‰ª•ÁªßÁª≠Âú®ÈõÜÁæ§ÂÜÖÈÉ®ÁΩ≤ Web Â∫îÁî®Á®ãÂ∫èÂπ∂Â£∞ÊòéÊÇ®ÁöÑ Ingress ËµÑÊ∫ê„ÄÇ</p>
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåBunkerWeb ËÆæÁΩÆÈúÄË¶Å‰Ωú‰∏∫ Ingress ËµÑÊ∫êÁöÑÊ≥®Ëß£Êù•ÊåáÂÆö„ÄÇÂØπ‰∫éÂüüÈÉ®ÂàÜÔºåËØ∑‰ΩøÁî®ÁâπÊÆäÂÄº <strong><code>bunkerweb.io</code></strong>„ÄÇÈÄöËøáÂåÖÂê´ÈÄÇÂΩìÁöÑÊ≥®Ëß£ÔºåÊÇ®ÂèØ‰ª•Áõ∏Â∫îÂú∞‰∏∫ Ingress ËµÑÊ∫êÈÖçÁΩÆ BunkerWeb„ÄÇ</p>
<div class="admonition info">
<p class="admonition-title">TLS ÊîØÊåÅ</p>
<p>BunkerWeb ingress ÊéßÂà∂Âô®ÂÆåÂÖ®ÊîØÊåÅ‰ΩøÁî® tls ËßÑËåÉÁöÑËá™ÂÆö‰πâ HTTPS ËØÅ‰π¶ÔºåÂ¶ÇÁ§∫‰æãÊâÄÁ§∫„ÄÇÈÖçÁΩÆËØ∏Â¶Ç <code>cert-manager</code> ‰πãÁ±ªÁöÑËß£ÂÜ≥ÊñπÊ°à‰ª•Ëá™Âä®ÁîüÊàê tls secret Ë∂ÖÂá∫‰∫ÜÊú¨ÊñáÊ°£ÁöÑËåÉÂõ¥„ÄÇ</p>
</div>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-ingress</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Â∞ÜÂ∫îÁî®‰∫éÊ≠§ ingress ‰∏≠ÁöÑÊâÄÊúâ‰∏ªÊú∫</span>
<span class="w">    </span><span class="nt">bunkerweb.io/MY_SETTING</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="w">    </span><span class="c1"># Â∞Ü‰ªÖÂ∫îÁî®‰∫é www.example.com ‰∏ªÊú∫</span>
<span class="w">    </span><span class="nt">bunkerweb.io/www.example.com_MY_SETTING</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># TLS ÊòØÂèØÈÄâÁöÑÔºåÊÇ®‰πüÂèØ‰ª•‰ΩøÁî®ÂÜÖÁΩÆÁöÑ Let&#39;s Encrypt Á≠â</span>
<span class="w">  </span><span class="c1"># tls:</span>
<span class="w">  </span><span class="c1">#   - hosts:</span>
<span class="w">  </span><span class="c1">#       - www.example.com</span>
<span class="w">  </span><span class="c1">#     secretName: secret-example-tls</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www.example.com</span>
<span class="w">      </span><span class="nt">http</span><span class="p">:</span>
<span class="w">        </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">            </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">            </span><span class="nt">backend</span><span class="p">:</span>
<span class="w">              </span><span class="nt">service</span><span class="p">:</span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">svc-my-app</span>
<span class="w">                </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8000</span>
<span class="nn">...</span>
</code></pre></div>
<h3 id="_24">ÂëΩÂêçÁ©∫Èó¥</h3>
<p>‰ªé <code>1.6.0</code> ÁâàÊú¨ÂºÄÂßãÔºåBunkerWeb ÁöÑËá™Âä®ÈÖçÁΩÆÂ†ÜÊ†àÁé∞Âú®ÊîØÊåÅÂëΩÂêçÁ©∫Èó¥„ÄÇÊ≠§ÂäüËÉΩ‰ΩøÊÇ®ËÉΩÂ§üÂú®Âêå‰∏Ä‰∏™ Kubernetes ÈõÜÁæ§‰∏äÁÆ°ÁêÜÂ§ö‰∏™ BunkerWeb ÂÆû‰æãÂíåÊúçÂä°ÁöÑÈõÜÁæ§„ÄÇË¶ÅÂà©Áî®ÂëΩÂêçÁ©∫Èó¥ÔºåÂè™ÈúÄÂú®ÊÇ®ÁöÑ BunkerWeb ÂÆû‰æãÂíåÊúçÂä°‰∏äËÆæÁΩÆ <code>namespace</code> ÂÖÉÊï∞ÊçÆÂ≠óÊÆµ„ÄÇËøôÊòØ‰∏Ä‰∏™Á§∫‰æãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DaemonSet</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-namespace</span><span class="w"> </span><span class="c1"># ‰∏∫ BunkerWeb ÂÆû‰æãËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥</span>
<span class="nn">...</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">ÂëΩÂêçÁ©∫Èó¥Ë°å‰∏∫</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊâÄÊúâËá™Âä®ÈÖçÁΩÆÂ†ÜÊ†àÈÉΩÁõëÂê¨ÊâÄÊúâÂëΩÂêçÁ©∫Èó¥„ÄÇÂ¶ÇÊûúÊÇ®ÊÉ≥Â∞Ü‰∏Ä‰∏™Â†ÜÊ†àÈôêÂà∂Âú®ÁâπÂÆöÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÂèØ‰ª•Âú® <code>bunkerweb-controller</code> ÈÉ®ÁΩ≤‰∏≠ËÆæÁΩÆ <code>NAMESPACES</code> ÁéØÂ¢ÉÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nn">...</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb-controller</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-namespace</span><span class="w"> </span><span class="c1"># ‰∏∫ÊéßÂà∂Âô®ËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">strategy</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Recreate</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb-controller</span>
<span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb-controller</span>
<span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<span class="w">      </span><span class="nt">serviceAccountName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sa-bunkerweb</span>
<span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb-controller</span>
<span class="w">          </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-autoconf:testing-rc3</span>
<span class="w">          </span><span class="nt">imagePullPolicy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="w">          </span><span class="nt">env</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NAMESPACES</span>
<span class="w">              </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-namespace</span><span class="nv"> </span><span class="s">my-other-namespace&quot;</span><span class="w"> </span><span class="c1"># Âè™ÁõëÂê¨Ëøô‰∫õÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">            </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="nn">...</span>
</code></pre></div>
<p>ËØ∑ËÆ∞‰ΩèÔºå<code>NAMESPACES</code> ÁéØÂ¢ÉÂèòÈáèÊòØ‰∏Ä‰∏™‰ª•Á©∫Ê†ºÂàÜÈöîÁöÑÂëΩÂêçÁ©∫Èó¥ÂàóË°®„ÄÇ</p>
</div>
<div class="admonition warning">
<p class="admonition-title">ÂëΩÂêçÁ©∫Èó¥ËßÑËåÉ</p>
<p>ÊØè‰∏™ÂëΩÂêçÁ©∫Èó¥Âè™ËÉΩÊúâ<strong>‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì</strong>Âíå<strong>‰∏Ä‰∏™Ë∞ÉÂ∫¶Âô®</strong>„ÄÇÂ¶ÇÊûúÊÇ®Â∞ùËØïÂú®Âêå‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥‰∏≠ÂàõÂª∫Â§ö‰∏™Êï∞ÊçÆÂ∫ìÊàñË∞ÉÂ∫¶Âô®ÔºåÈÖçÁΩÆÊúÄÁªà‰ºöÁõ∏‰∫íÂÜ≤Á™Å„ÄÇ</p>
<p>Ë∞ÉÂ∫¶Âô®‰∏çÈúÄË¶Å <code>NAMESPACE</code> Ê≥®Ëß£Âç≥ÂèØÊ≠£Â∏∏Â∑•‰Ωú„ÄÇÂÆÉÂè™ÈúÄË¶ÅÊ≠£Á°ÆÈÖçÁΩÆ <code>DATABASE_URI</code> ËÆæÁΩÆÔºå‰ª•‰æøÂÆÉÂèØ‰ª•ËÆøÈóÆ‰∏éËá™Âä®ÈÖçÁΩÆÊúçÂä°Áõ∏ÂêåÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ</p>
</div>
<h3 id="ingress_1">Ingress Á±ª</h3>
<p>ÂΩì‰ΩøÁî®ÊñáÊ°£‰∏≠ÁöÑÂÆòÊñπÊñπÊ≥ïÂÆâË£ÖÊó∂ÔºåBunkerWeb Â∏¶Êúâ‰ª•‰∏ã <code>IngressClass</code> ÂÆö‰πâÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IngressClass</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">controller</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb.io/ingress-controller</span>
</code></pre></div>
<p>‰∏∫‰∫ÜÈôêÂà∂ ingress ÊéßÂà∂Âô®ÁõëÊéßÁöÑ <code>Ingress</code> ËµÑÊ∫êÔºåÊÇ®ÂèØ‰ª•Â∞Ü <code>KUBERNETES_INGRESS_CLASS</code> ÁéØÂ¢ÉÂèòÈáèÁöÑÂÄºËÆæÁΩÆ‰∏∫ <code>bunkerweb</code>„ÄÇÁÑ∂ÂêéÔºåÊÇ®ÂèØ‰ª•Âú®ÊÇ®ÁöÑ <code>Ingress</code> ÂÆö‰πâ‰∏≠Âà©Áî® <code>ingressClassName</code> Êåá‰ª§Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-ingress</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">bunkerweb.io/MY_SETTING</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="w">    </span><span class="nt">bunkerweb.io/www.example.com_MY_SETTING</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;value&quot;</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">ingressClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">www.example.com</span>
<span class="w">      </span><span class="nt">http</span><span class="p">:</span>
<span class="w">        </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">            </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">            </span><span class="nt">backend</span><span class="p">:</span>
<span class="w">              </span><span class="nt">service</span><span class="p">:</span>
<span class="w">                </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">svc-my-app</span>
<span class="w">                </span><span class="nt">port</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8000</span>
</code></pre></div>
<h3 id="_25">Ëá™ÂÆö‰πâÂüüÂêç</h3>
<p>Â¶ÇÊûúÊÇ®‰∏∫ÊÇ®ÁöÑ Kubernetes ÈõÜÁæ§‰ΩøÁî®‰∏çÂêå‰∫éÈªòËÆ§ <code>kubernetes.local</code> ÁöÑËá™ÂÆö‰πâÂüüÂêçÔºåÊÇ®ÂèØ‰ª•Âú®Ë∞ÉÂ∫¶Âô®ÂÆπÂô®‰∏ä‰ΩøÁî® <code>KUBERNETES_DOMAIN_NAME</code> ÁéØÂ¢ÉÂèòÈáèÊù•ËÆæÁΩÆËØ•ÂÄº„ÄÇ</p>
<h3 id="ingress_2">‰∏éÁé∞Êúâ ingress ÊéßÂà∂Âô®‰∏ÄËµ∑‰ΩøÁî®</h3>
<div class="admonition info">
<p class="admonition-title">ÂêåÊó∂‰øùÁïôÁé∞Êúâ ingress ÊéßÂà∂Âô®Âíå BunkerWeb</p>
<p>ËøôÊòØ‰∏Ä‰∏™ÊÇ®Â∏åÊúõ‰øùÁïôÁé∞Êúâ ingress ÊéßÂà∂Âô®Ôºà‰æãÂ¶Ç nginxÔºâÁöÑÁî®‰æã„ÄÇÂÖ∏ÂûãÁöÑÊµÅÈáèÊµÅÂ∞ÜÊòØÔºöË¥üËΩΩÂùáË°°Âô® =&gt; Ingress ÊéßÂà∂Âô® =&gt; BunkerWeb =&gt; Â∫îÁî®Á®ãÂ∫è„ÄÇ</p>
</div>
<h4 id="nginx-ingress">nginx ingress ÊéßÂà∂Âô®ÂÆâË£Ö</h4>
<p>ÂÆâË£Ö ingress nginx helm ‰ªìÂ∫ìÔºö</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>ingress-nginx<span class="w"> </span>https://kubernetes.github.io/ingress-nginx
helm<span class="w"> </span>repo<span class="w"> </span>update
</code></pre></div>
<p>‰ΩøÁî®ÈªòËÆ§ÂÄºÂÆâË£Ö nginx ingress ÊéßÂà∂Âô®ÔºàÂèØËÉΩÊó†Ê≥ïÂú®ÊÇ®Ëá™Â∑±ÁöÑÈõÜÁæ§‰∏äÂºÄÁÆ±Âç≥Áî®ÔºåËØ∑Êü•Áúã<a href="https://kubernetes.github.io/ingress-nginx/">ÊñáÊ°£</a>ÔºâÔºö</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>install<span class="w"> </span>--namespace<span class="w"> </span>nginx<span class="w"> </span>--create-namespace<span class="w"> </span>nginx<span class="w"> </span>ingress-nginx/ingress-nginx
</code></pre></div>
<p>ÊèêÂèñ LB ÁöÑ IP Âú∞ÂùÄÔºö</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>nginx-ingress-nginx-controller<span class="w"> </span>-n<span class="w"> </span>nginx<span class="w"> </span>-o<span class="w"> </span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.status.loadBalancer.ingress[0].ip}&#39;</span>
</code></pre></div>
<p>ËÆæÁΩÆ DNS Êù°ÁõÆÊåáÂêë LB ÁöÑ IPÔºà‰æãÂ¶Ç <code>bunkerweb</code> Â≠êÂüüÁî®‰∫é BW UIÔºå<code>myapp</code> Áî®‰∫éÂ∫îÁî®Á®ãÂ∫èÔºâÔºö</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>nslookup<span class="w"> </span>bunkerweb.example.com
Server:<span class="w">         </span><span class="m">172</span>.26.112.1
Address:<span class="w">        </span><span class="m">172</span>.26.112.1#53

Non-authoritative<span class="w"> </span>answer:
Name:<span class="w">   </span>bunkerweb.example.com
Address:<span class="w"> </span><span class="m">1</span>.2.3.4
$<span class="w"> </span>nslookup<span class="w"> </span>myapp.example.com
Server:<span class="w">         </span><span class="m">172</span>.26.112.1
Address:<span class="w">        </span><span class="m">172</span>.26.112.1#53

Non-authoritative<span class="w"> </span>answer:
Name:<span class="w">   </span>myapp.example.com
Address:<span class="w"> </span><span class="m">1</span>.2.3.4
</code></pre></div>
<p><strong>BunkerWeb ÂÆâË£Ö</strong></p>
<p>ÂÆâË£Ö BunkerWeb helm ‰ªìÂ∫ìÔºö</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>bunkerweb<span class="w"> </span>https://repo.bunkerweb.io/charts
helm<span class="w"> </span>repo<span class="w"> </span>update
</code></pre></div>
<p>ÂàõÂª∫ <code>values.yaml</code> Êñá‰ª∂Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ËøôÈáåÊàë‰ª¨Â∞ÜËÆæÁΩÆÂú®Áé∞Êúâ ingress ÊéßÂà∂Âô®ÂêéÈù¢ËÆæÁΩÆ BunkerWeb ÊâÄÈúÄÁöÑÂÄº</span>
<span class="c1"># Â∏¶ BW ÁöÑÊµÅÈáèÊµÅÔºöLB =&gt; Áé∞Êúâ Ingress ÊéßÂà∂Âô® =&gt; BunkerWeb =&gt; ÊúçÂä°</span>
<span class="c1"># ‰∏çÂ∏¶ BW ÁöÑÊµÅÈáèÊµÅÔºöLB =&gt; Áé∞Êúâ Ingress ÊéßÂà∂Âô® =&gt; ÊúçÂä°</span>

<span class="c1"># ÂÖ®Â±ÄËÆæÁΩÆ</span>
<span class="nt">settings</span><span class="p">:</span>
<span class="w">  </span><span class="nt">misc</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># ÊõøÊç¢‰∏∫ÊÇ®ÁöÑ DNS Ëß£ÊûêÂô®</span>
<span class="w">    </span><span class="c1"># Ëé∑ÂèñÊñπÊ≥ïÔºöÂú®‰ªªÊÑè pod ‰∏≠ÊâßË°å kubectl execÔºåÁÑ∂Âêé cat /etc/resolv.conf</span>
<span class="w">    </span><span class="c1"># Â¶ÇÊûúÊÇ®ÁöÑ nameserver ÊòØ‰∏Ä‰∏™ IPÔºåÂàôÊâßË°åÂèçÂêë DNS Êü•ÊâæÔºönslookup &lt;IP&gt;</span>
<span class="w">    </span><span class="c1"># Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊòØ coredns.kube-system.svc.cluster.local Êàñ kube-dns.kube-system.svc.cluster.local</span>
<span class="w">    </span><span class="nt">dnsResolvers</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;kube-dns.kube-system.svc.cluster.local&quot;</span>
<span class="w">  </span><span class="nt">kubernetes</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Êàë‰ª¨Âè™ËÄÉËôëÂ∏¶Êúâ ingressClass bunkerweb ÁöÑ Ingress ËµÑÊ∫êÔºå‰ª•ÈÅøÂÖç‰∏éÁé∞Êúâ ingress ÊéßÂà∂Âô®ÂÜ≤Á™Å</span>
<span class="w">    </span><span class="nt">ingressClass</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bunkerweb&quot;</span>
<span class="w">    </span><span class="c1"># ÂèØÈÄâÔºöÊÇ®ÂèØ‰ª•ÈÄâÊã© BunkerWeb Â∞ÜÁõëÂê¨ Ingress/ConfigMap Êõ¥ÊîπÁöÑÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">    </span><span class="c1"># ÈªòËÆ§ÂÄºÔºàÁ©∫ÁôΩÔºâÊòØÊâÄÊúâÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">    </span><span class="nt">namespaces</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span>

<span class="c1"># Ë¶ÜÁõñ bunkerweb-external ÊúçÂä°Á±ªÂûã‰∏∫ ClusterIP</span>
<span class="c1"># Âõ†‰∏∫Êàë‰ª¨‰∏çÈúÄË¶ÅÂ∞ÜÂÖ∂Êö¥Èú≤ÁªôÂ§ñÈÉ®‰∏ñÁïå</span>
<span class="c1"># Êàë‰ª¨Â∞Ü‰ΩøÁî®Áé∞ÊúâÁöÑ ingress ÊéßÂà∂Âô®Â∞ÜÊµÅÈáèË∑ØÁî±Âà∞ BunkerWeb</span>
<span class="nt">service</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>

<span class="c1"># BunkerWeb ËÆæÁΩÆ</span>
<span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">  </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing-rc3</span>

<span class="c1"># Ë∞ÉÂ∫¶Âô®ËÆæÁΩÆ</span>
<span class="nt">scheduler</span><span class="p">:</span>
<span class="w">  </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing-rc3</span>
<span class="w">  </span><span class="nt">extraEnvs</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># ÂêØÁî® real IP Ê®°Âùó‰ª•Ëé∑ÂèñÂÆ¢Êà∑Á´ØÁöÑÁúüÂÆû IP</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">USE_REAL_IP</span>
<span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>

<span class="c1"># ÊéßÂà∂Âô®ËÆæÁΩÆ</span>
<span class="nt">controller</span><span class="p">:</span>
<span class="w">  </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing-rc3</span>

<span class="c1"># UI ËÆæÁΩÆ</span>
<span class="nt">ui</span><span class="p">:</span>
<span class="w">  </span><span class="nt">tag</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">testing-rc3</span>
</code></pre></div>
<p>‰ΩøÁî®Ëá™ÂÆö‰πâÂÄºÂÆâË£Ö BunkerWebÔºö</p>
<div class="highlight"><pre><span></span><code>helm<span class="w"> </span>install<span class="w"> </span>--namespace<span class="w"> </span>bunkerweb<span class="w"> </span>--create-namespace<span class="w"> </span>-f<span class="w"> </span>values.yaml<span class="w"> </span>bunkerweb<span class="w"> </span>bunkerweb/bunkerweb
</code></pre></div>
<p>Ê£ÄÊü•Êó•ÂøóÂπ∂Á≠âÂæÖ‰∏ÄÂàáÂ∞±Áª™„ÄÇ</p>
<p><strong>Web UI ÂÆâË£Ö</strong></p>
<p>ËÆæÁΩÆ‰ª•‰∏ã ingressÔºàÂÅáËÆæÂ∑≤ÂÆâË£Ö nginx ÊéßÂà∂Âô®ÔºâÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ui-bunkerweb</span>
<span class="w">  </span><span class="c1"># Â¶ÇÊûúÈúÄË¶ÅÔºåÊõøÊç¢‰∏∫ÊÇ®ÁöÑ BW ÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Âç≥‰ΩøÊµÅÈáèÊòØÂÜÖÈÉ®ÁöÑÔºåWeb UI ‰πüÂøÖÈ°ª‰ΩøÁî® HTTPS</span>
<span class="w">    </span><span class="nt">nginx.ingress.kubernetes.io/backend-protocol</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;HTTPS&quot;</span>
<span class="w">    </span><span class="c1"># Êàë‰ª¨ÂøÖÈ°ªËÆæÁΩÆ SNIÔºå‰ª•‰æø BW ÂèØ‰ª•Êèê‰æõÊ≠£Á°ÆÁöÑËôöÊãü‰∏ªÊú∫</span>
<span class="w">    </span><span class="c1"># ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂüüÂêç</span>
<span class="w">    </span><span class="nt">nginx.ingress.kubernetes.io/proxy-ssl-name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bunkerweb.example.com&quot;</span>
<span class="w">    </span><span class="nt">nginx.ingress.kubernetes.io/proxy-ssl-server-name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;on&quot;</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ‰ªÖÁî± nginx ÊéßÂà∂Âô®Êèê‰æõÊúçÂä°ÔºåËÄå‰∏çÊòØ BW</span>
<span class="w">  </span><span class="nt">ingressClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="c1"># Â¶ÇÊûúË¶Å‰ΩøÁî®Ëá™Â∑±ÁöÑËØÅ‰π¶ÔºåËØ∑ÂèñÊ∂àÊ≥®ÈáäÂπ∂ËøõË°åÁºñËæë</span>
<span class="w">  </span><span class="c1"># tls:</span>
<span class="w">  </span><span class="c1"># - hosts:</span>
<span class="w">  </span><span class="c1">#   - bunkerweb.example.com</span>
<span class="w">  </span><span class="c1">#   secretName: tls-secret</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂüüÂêç</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb.example.com</span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<span class="w">      </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">        </span><span class="nt">backend</span><span class="p">:</span>
<span class="w">          </span><span class="nt">service</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># Áî± Helm chart ÂàõÂª∫</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb-external</span>
<span class="w">            </span><span class="nt">port</span><span class="p">:</span>
<span class="w">              </span><span class="c1"># UI ÂøÖÈ°ª‰ΩøÁî® HTTPS Á´ØÂè£</span>
<span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">443</span>
</code></pre></div>
<p>Áé∞Âú®ÊÇ®ÂèØ‰ª•ÈÄöËøáÊµèËßà <code>https://bunkerweb.example.com/setup</code> ËøõÂÖ•ËÆæÁΩÆÂêëÂØº„ÄÇ</p>
<p><strong>‰øùÊä§Áé∞ÊúâÂ∫îÁî®Á®ãÂ∫è</strong></p>
<p><strong>È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅËøõÂÖ•ÂÖ®Â±ÄÈÖçÁΩÆÔºåÈÄâÊã© SSL Êèí‰ª∂ÔºåÁÑ∂ÂêéÁ¶ÅÁî®Ëá™Âä®Â∞Ü HTTP ÈáçÂÆöÂêëÂà∞ HTTPS„ÄÇËØ∑Ê≥®ÊÑèÔºåÊÇ®Âè™ÈúÄË¶ÅÊâßË°å‰∏ÄÊ¨°„ÄÇ</strong></p>
<p>ÂÅáËÆæÊÇ®Âú® <code>myapp</code> ÂëΩÂêçÁ©∫Èó¥‰∏≠Êúâ‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÔºåËØ•Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÈÄöËøá <code>myapp-service</code> ÊúçÂä°Âú®Á´ØÂè£ <code>5000</code> ‰∏äËÆøÈóÆ„ÄÇ</p>
<p>ÊÇ®ÈúÄË¶ÅÂú® Web UI ‰∏äÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÊúçÂä°Âπ∂Â°´ÂÜôÊâÄÈúÄ‰ø°ÊÅØÔºö</p>
<ul>
<li>ÊúçÂä°Âô®ÂêçÁß∞ÔºöÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÁöÑÂÖ¨ÂÖ±ÂüüÂêçÔºà‰æãÂ¶Ç <code>myapp.example.com</code>Ôºâ</li>
<li>SSL/TLSÔºöÊÇ®ÁöÑ ingress ÊéßÂà∂Âô®Ë¥üË¥£ËØ•ÈÉ®ÂàÜÔºåÂõ†Ê≠§‰∏çË¶ÅÂú® BunkerWeb ‰∏äÂêØÁî®ÂÆÉÔºåÂõ†‰∏∫ÊµÅÈáèÂú®ÈõÜÁæ§ÂÜÖÈÉ®</li>
<li>ÂèçÂêë‰ª£ÁêÜ‰∏ªÊú∫ÔºöÊÇ®Âú®ÈõÜÁæ§ÂÜÖÁöÑÂ∫îÁî®Á®ãÂ∫èÁöÑÂÆåÊï¥ URLÔºà‰æãÂ¶Ç <code>http://myapp-service.myapp.svc.cluster.local:5000</code>Ôºâ</li>
</ul>
<p>Ê∑ªÂä†Êñ∞ÊúçÂä°ÂêéÔºåÊÇ®Áé∞Âú®ÂèØ‰ª•‰∏∫ËØ•ÊúçÂä°Â£∞Êòé‰∏Ä‰∏™ Ingress ËµÑÊ∫êÔºåÂπ∂Â∞ÜÂÖ∂Ë∑ØÁî±Âà∞ BunkerWeb ÊúçÂä°ÁöÑ HTTP Á´ØÂè£Ôºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class="w">  </span><span class="c1"># Â¶ÇÊûúÈúÄË¶ÅÔºåÊõøÊç¢‰∏∫ÊÇ®ÁöÑ BW ÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ‰ªÖÁî± nginx ÊéßÂà∂Âô®Êèê‰æõÊúçÂä°ÔºåËÄå‰∏çÊòØ BW</span>
<span class="w">  </span><span class="nt">ingressClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="c1"># Â¶ÇÊûúË¶Å‰ΩøÁî®Ëá™Â∑±ÁöÑËØÅ‰π¶ÔºåËØ∑ÂèñÊ∂àÊ≥®ÈáäÂπ∂ËøõË°åÁºñËæë</span>
<span class="w">  </span><span class="c1"># tls:</span>
<span class="w">  </span><span class="c1"># - hosts:</span>
<span class="w">  </span><span class="c1">#   - myapp.example.com</span>
<span class="w">  </span><span class="c1">#   secretName: tls-secret</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂüüÂêç</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp.example.com</span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<span class="w">      </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">        </span><span class="nt">backend</span><span class="p">:</span>
<span class="w">          </span><span class="nt">service</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># Áî± Helm chart ÂàõÂª∫</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerweb-external</span>
<span class="w">            </span><span class="nt">port</span><span class="p">:</span>
<span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
<p>ÊÇ®ÂèØ‰ª•ËÆøÈóÆ <code>http(s)://myapp.example.com</code>ÔºåÁé∞Âú®ÂÆÉÂ∑≤ÂèóÂà∞ BunkerWeb ÁöÑ‰øùÊä§ üõ°Ô∏è</p>
<h2 id="swarm">Swarm</h2>
<figure>
<p><img align="center," alt="Ê¶ÇËø∞" src="../../assets/img/integration-swarm.svg" width="600" />
  </p>
<figcaption>Docker Swarm ÈõÜÊàê</figcaption>
</figure>
<div class="admonition warning">
<p class="admonition-title">Â∑≤ÂºÉÁî®</p>
<p>Swarm ÈõÜÊàêÂ∑≤ÂºÉÁî®ÔºåÂπ∂Â∞ÜÂú®Êú™Êù•ÁâàÊú¨‰∏≠Âà†Èô§„ÄÇËØ∑ËÄÉËôëÊîπÁî® <a href="#kubernetes">Kubernetes ÈõÜÊàê</a>„ÄÇ</p>
</div>
<div class="admonition tip">
<p class="admonition-title">PRO ÊîØÊåÅ</p>
<p><strong>Â¶ÇÊûúÊÇ®ÈúÄË¶Å Swarm ÊîØÊåÅ</strong>ÔºåËØ∑ÈÄöËøá <a href="mailto:contact@bunkerity.com">contact@bunkerity.com</a> Êàñ<a href="https://panel.bunkerweb.io/contact.php?utm_campaign=self&amp;utm_source=doc">ËÅîÁ≥ªË°®Âçï</a>‰∏éÊàë‰ª¨ËÅîÁ≥ª„ÄÇ</p>
</div>
<div class="admonition info">
<p class="admonition-title">Docker Ëá™Âä®ÈÖçÁΩÆ</p>
<p>Swarm ÈõÜÊàê‰∏é Docker Ëá™Âä®ÈÖçÁΩÆÈõÜÊàêÁ±ª‰ººÔºà‰ΩÜ‰ΩøÁî®ÊúçÂä°ËÄå‰∏çÊòØÂÆπÂô®Ôºâ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÔºåËØ∑ÂÖàÈòÖËØª<a href="#docker-autoconf">Docker Ëá™Âä®ÈÖçÁΩÆÈõÜÊàêÈÉ®ÂàÜ</a>„ÄÇ</p>
</div>
<p>‰∏∫‰∫ÜÂÆûÁé∞ BunkerWeb ÂÆû‰æãÁöÑËá™Âä®ÈÖçÁΩÆÔºå<strong>autoconf</strong> ÊúçÂä°ÈúÄË¶ÅËÆøÈóÆ Docker API„ÄÇËØ•ÊúçÂä°ÁõëÂê¨ Docker Swarm ‰∫ã‰ª∂Ôºå‰æãÂ¶ÇÊúçÂä°ÁöÑÂàõÂª∫ÊàñÂà†Èô§ÔºåÂπ∂ÂÆûÊó∂Êó†ÁºùÂú∞ÈÖçÁΩÆ <strong>BunkerWeb ÂÆû‰æã</strong>ÔºåËÄå‰∏ç‰ºöÈÄ†Êàê‰ªª‰ΩïÂÅúÊú∫„ÄÇÂÆÉËøòÁõëÊéßÂÖ∂‰ªñ Swarm ÂØπË±°Ôºå‰æãÂ¶ÇÁî®‰∫éËá™ÂÆö‰πâÈÖçÁΩÆÁöÑ <a href="https://docs.docker.com/engine/swarm/configs/">configs</a>„ÄÇ</p>
<p>‰∏é <a href="#docker-autoconf">Docker autoconf ÈõÜÊàê</a>Á±ª‰ººÔºåWeb ÊúçÂä°ÁöÑÈÖçÁΩÆÊòØ‰ΩøÁî®‰ª• <strong>bunkerweb</strong> ÂâçÁºÄÂºÄÂ§¥ÁöÑÊ†áÁ≠æÊù•ÂÆö‰πâÁöÑ„ÄÇ</p>
<p>‰∏∫‰∫ÜËé∑ÂæóÊúÄ‰Ω≥ËÆæÁΩÆÔºåÂª∫ËÆÆÂ∞Ü <strong>BunkerWeb ÊúçÂä°</strong>Ë∞ÉÂ∫¶‰∏∫ÊâÄÊúâËäÇÁÇπ‰∏äÁöÑ<strong><em>ÂÖ®Â±ÄÊúçÂä°</em></strong>ÔºåËÄåÂ∞Ü <strong>autoconf„ÄÅscheduler Âíå Docker API ‰ª£ÁêÜÊúçÂä°</strong>Ë∞ÉÂ∫¶‰∏∫<strong><em>Âçï‰∏™ÂâØÊú¨ÁöÑÊúçÂä°</em></strong>„ÄÇËØ∑Ê≥®ÊÑèÔºåDocker API ‰ª£ÁêÜÊúçÂä°ÈúÄË¶ÅË∞ÉÂ∫¶Âú®ÁÆ°ÁêÜÂô®ËäÇÁÇπ‰∏äÔºåÈô§ÈùûÊÇ®Â∞ÜÂÖ∂ÈÖçÁΩÆ‰∏∫‰ΩøÁî®ËøúÁ®ã APIÔºàËøô‰∏çÂú®ÊñáÊ°£ÁöÑËÆ®ËÆ∫ËåÉÂõ¥ÂÜÖÔºâ„ÄÇ</p>
<p>Áî±‰∫éËøêË°åÁùÄÂ§ö‰∏™ BunkerWeb ÂÆû‰æãÔºåÂøÖÈ°ªÂàõÂª∫‰∏Ä‰∏™ÂÖ±‰∫´Êï∞ÊçÆÂ≠òÂÇ®ÔºåÂÆûÁé∞‰∏∫ <a href="https://redis.io/">Redis</a> Êàñ <a href="https://valkey.io/">Valkey</a> ÊúçÂä°„ÄÇËøô‰∫õÂÆû‰æãÂ∞ÜÂà©Áî® Redis/Valkey ÊúçÂä°Êù•ÁºìÂ≠òÂíåÂÖ±‰∫´Êï∞ÊçÆ„ÄÇÊúâÂÖ≥ Redis/Valkey ËÆæÁΩÆÁöÑÊõ¥Â§öËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇËßÅ<a href="../features/#redis">Ê≠§Â§Ñ</a>„ÄÇ</p>
<p>Ëá≥‰∫éÊï∞ÊçÆÂ∫ìÂç∑ÔºåÊñáÊ°£Âπ∂Êú™ÊåáÂÆöÂÖ∑‰ΩìÁöÑÊñπÊ≥ï„ÄÇ‰∏∫Êï∞ÊçÆÂ∫ìÂç∑ÈÄâÊã©ÂÖ±‰∫´Êñá‰ª∂Â§πÊàñÁâπÂÆöÈ©±Âä®Á®ãÂ∫èÂèñÂÜ≥‰∫éÊÇ®ÁöÑÁã¨ÁâπÁî®‰æãÔºåÁïôÁªôËØªËÄÖËá™Ë°åÂÜ≥ÂÆö„ÄÇ</p>
<div class="admonition info">
<p class="admonition-title">Êï∞ÊçÆÂ∫ìÂêéÁ´Ø</p>
<p>ËØ∑Ê≥®ÊÑèÔºåÊàë‰ª¨ÁöÑËØ¥ÊòéÂÅáËÆæÊÇ®Ê≠£Âú®‰ΩøÁî® MariaDB ‰Ωú‰∏∫ÈªòËÆ§ÁöÑÊï∞ÊçÆÂ∫ìÂêéÁ´ØÔºåËøôÊòØÁî± <code>DATABASE_URI</code> ËÆæÁΩÆÈÖçÁΩÆÁöÑ„ÄÇ‰ΩÜÊòØÔºåÊàë‰ª¨ÁêÜËß£ÊÇ®ÂèØËÉΩÊõ¥ÂñúÊ¨¢‰∏∫ÊÇ®ÁöÑ Docker ÈõÜÊàê‰ΩøÁî®ÂÖ∂‰ªñÂêéÁ´Ø„ÄÇÂ¶ÇÊûúÊòØËøôÊ†∑ÔºåËØ∑ÊîæÂøÉÔºåÂÖ∂‰ªñÊï∞ÊçÆÂ∫ìÂêéÁ´Ø‰ªçÁÑ∂ÊòØÂèØË°åÁöÑ„ÄÇÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ‰ªìÂ∫ìÁöÑ <a href="https://github.com/bunkerity/bunkerweb/tree/vtesting-rc3/misc/integrations">misc/integrations Êñá‰ª∂Â§π</a>‰∏≠ÁöÑ docker-compose Êñá‰ª∂„ÄÇ</p>
<p>ÈõÜÁæ§Êï∞ÊçÆÂ∫ìÂêéÁ´ØÁöÑËÆæÁΩÆË∂ÖÂá∫‰∫ÜÊú¨ÊñáÊ°£ÁöÑËåÉÂõ¥„ÄÇ</p>
</div>
<p>ËøôÊòØÊÇ®ÂèØ‰ª•‰ΩøÁî® <code>docker stack deploy</code> ÈÉ®ÁΩ≤ÁöÑÂ†ÜÊ†àÊ†∑ÊùøÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">x-bw-env</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;bw-env</span>
<span class="w">  </span><span class="c1"># Êàë‰ª¨‰ΩøÁî®‰∏Ä‰∏™ÈîöÁÇπÊù•ÈÅøÂÖçÂú®‰∏§‰∏™ÊúçÂä°‰∏≠ÈáçÂ§çÁõ∏ÂêåÁöÑËÆæÁΩÆ</span>
<span class="w">  </span><span class="nt">SWARM_MODE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">  </span><span class="nt">API_WHITELIST_IP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127.0.0.0/8</span><span class="nv"> </span><span class="s">10.20.30.0/24&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">published</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">        </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span>
<span class="w">        </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">published</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">443</span>
<span class="w">        </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8443</span>
<span class="w">        </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">published</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">443</span>
<span class="w">        </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8443</span>
<span class="w">        </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">host</span>
<span class="w">        </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">udp</span><span class="w"> </span><span class="c1"># QUIC</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-env</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">global</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.INSTANCE=yes&quot;</span><span class="w"> </span><span class="c1"># autoconf ÊúçÂä°ËØÜÂà´ BunkerWeb ÂÆû‰æãÁöÑÂº∫Âà∂ÊÄßÊ†áÁ≠æ</span>

<span class="w">  </span><span class="nt">bw-scheduler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-scheduler:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*bw-env</span>
<span class="w">      </span><span class="nt">BUNKERWEB_INSTANCES</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># Êàë‰ª¨‰∏çÈúÄË¶ÅÂú®ËøôÈáåÊåáÂÆö BunkerWeb ÂÆû‰æãÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Áî± autoconf ÊúçÂä°Ëá™Âä®Ê£ÄÊµã</span>
<span class="w">      </span><span class="nt">SERVER_NAME</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># ÊúçÂä°Âô®ÂêçÁß∞Â∞ÜÁî±ÊúçÂä°Ê†áÁ≠æÂ°´ÂÖÖ</span>
<span class="w">      </span><span class="nt">MULTISITE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span><span class="w"> </span><span class="c1"># autoconf ÁöÑÂº∫Âà∂ÊÄßËÆæÁΩÆ</span>
<span class="w">      </span><span class="nt">DATABASE_URI</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb+pymysql://bunkerweb:changeme@bw-db:3306/db&quot;</span><span class="w"> </span><span class="c1"># ËÆ∞Âæó‰∏∫Êï∞ÊçÆÂ∫ìËÆæÁΩÆ‰∏Ä‰∏™Êõ¥Âº∫ÁöÑÂØÜÁ†Å</span>
<span class="w">      </span><span class="nt">USE_REDIS</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">REDIS_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bw-redis&quot;</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-storage:/data</span><span class="w"> </span><span class="c1"># Áî®‰∫éÊåÅ‰πÖÂåñÁºìÂ≠òÂíåÂ§á‰ªΩÁ≠âÂÖ∂‰ªñÊï∞ÊçÆ</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>

<span class="w">  </span><span class="nt">bw-autoconf</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-autoconf:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">SWARM_MODE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">DATABASE_URI</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mariadb+pymysql://bunkerweb:changeme@bw-db:3306/db&quot;</span><span class="w"> </span><span class="c1"># ËÆ∞Âæó‰∏∫Êï∞ÊçÆÂ∫ìËÆæÁΩÆ‰∏Ä‰∏™Êõ¥Âº∫ÁöÑÂØÜÁ†Å</span>
<span class="w">      </span><span class="nt">DOCKER_HOST</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;tcp://bw-docker:2375&quot;</span><span class="w"> </span><span class="c1"># Docker Â•óÊé•Â≠ó</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>

<span class="w">  </span><span class="nt">bw-docker</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tecnativa/docker-socket-proxy:nightly</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">CONFIGS</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="w">      </span><span class="nt">CONTAINERS</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="w">      </span><span class="nt">SERVICES</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="w">      </span><span class="nt">SWARM</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="w">      </span><span class="nt">TASKS</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1&quot;</span>
<span class="w">      </span><span class="nt">LOG_LEVEL</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;warning&quot;</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/docker.sock:/var/run/docker.sock:ro</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">manager&quot;</span>

<span class="w">  </span><span class="nt">bw-db</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mariadb:11</span>
<span class="w">    </span><span class="c1"># Êàë‰ª¨ËÆæÁΩÆ‰∫ÜÊúÄÂ§ßÂÖÅËÆ∏ÁöÑÊï∞ÊçÆÂåÖÂ§ßÂ∞è‰ª•ÈÅøÂÖçÂ§ßÊü•ËØ¢ÁöÑÈóÆÈ¢ò</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--max-allowed-packet=67108864</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">MYSQL_RANDOM_ROOT_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;yes&quot;</span>
<span class="w">      </span><span class="nt">MYSQL_DATABASE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;db&quot;</span>
<span class="w">      </span><span class="nt">MYSQL_USER</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;bunkerweb&quot;</span>
<span class="w">      </span><span class="nt">MYSQL_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;changeme&quot;</span><span class="w"> </span><span class="c1"># ËÆ∞Âæó‰∏∫Êï∞ÊçÆÂ∫ìËÆæÁΩÆ‰∏Ä‰∏™Êõ¥Âº∫ÁöÑÂØÜÁ†Å</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-data:/var/lib/mysql</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>

<span class="w">  </span><span class="nt">bw-redis</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis:7-alpine</span>
<span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;unless-stopped&quot;</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>

<span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-data</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-storage</span><span class="p">:</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-universe</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-universe</span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlay</span>
<span class="w">    </span><span class="nt">attachable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">ipam</span><span class="p">:</span>
<span class="w">      </span><span class="nt">config</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">subnet</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.20.30.0/24</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlay</span>
<span class="w">    </span><span class="nt">attachable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">bw-docker</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-docker</span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlay</span>
<span class="w">    </span><span class="nt">attachable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">bw-db</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-db</span>
<span class="w">    </span><span class="nt">driver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">overlay</span>
<span class="w">    </span><span class="nt">attachable</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Swarm Âº∫Âà∂ËÆæÁΩÆ</p>
<p>ËØ∑Ê≥®ÊÑèÔºåÂú®‰ΩøÁî® Swarm ÈõÜÊàêÊó∂Ôºå<code>SWARM_MODE: "yes"</code> ÁéØÂ¢ÉÂèòÈáèÊòØÂº∫Âà∂ÊÄßÁöÑ„ÄÇ</p>
</div>
<h3 id="swarm_1">Swarm ÊúçÂä°</h3>
<p>‰∏ÄÊó¶ BunkerWeb Swarm Â†ÜÊ†àËÆæÁΩÆÂπ∂ËøêË°åÔºàÊúâÂÖ≥Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ autoconf Âíå scheduler Êó•ÂøóÔºâÔºåÊÇ®Â∞ÜËÉΩÂ§üÂú®ËØ•ÈõÜÁæ§‰∏≠ÈÉ®ÁΩ≤ Web Â∫îÁî®Á®ãÂ∫èÔºåÂπ∂‰ΩøÁî®Ê†áÁ≠æÊù•Âä®ÊÄÅÈÖçÁΩÆ BunkerWebÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">myapp</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mywebapp:4.2</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role==worker&quot;</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_1=value1&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_2=value2&quot;</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
</code></pre></div>
<h3 id="_26">ÂëΩÂêçÁ©∫Èó¥</h3>
<p>‰ªé <code>1.6.0</code> ÁâàÊú¨ÂºÄÂßãÔºåBunkerWeb ÁöÑËá™Âä®ÈÖçÁΩÆÂ†ÜÊ†àÁé∞Âú®ÊîØÊåÅÂëΩÂêçÁ©∫Èó¥„ÄÇÊ≠§ÂäüËÉΩ‰ΩøÊÇ®ËÉΩÂ§üÂú®Âêå‰∏Ä‰∏™ Docker ‰∏ªÊú∫‰∏äÁÆ°ÁêÜÂ§ö‰∏™ BunkerWeb ÂÆû‰æãÂíåÊúçÂä°ÁöÑ‚Äú<em>ÈõÜÁæ§</em>‚Äù„ÄÇË¶ÅÂà©Áî®ÂëΩÂêçÁ©∫Èó¥ÔºåÂè™ÈúÄÂú®ÊÇ®ÁöÑÊúçÂä°‰∏äËÆæÁΩÆ <code>NAMESPACE</code> Ê†áÁ≠æ„ÄÇËøôÊòØ‰∏Ä‰∏™Á§∫‰æãÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">myapp</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mywebapp:4.2</span>
<span class="w">    </span><span class="nt">networks</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role==worker&quot;</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.NAMESPACE=my-namespace&quot;</span><span class="w"> </span><span class="c1"># ‰∏∫ÊúçÂä°ËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_1=value1&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.MY_SETTING_2=value2&quot;</span>

<span class="nt">networks</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bw-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bw-services</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">ÂëΩÂêçÁ©∫Èó¥Ë°å‰∏∫</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊâÄÊúâËá™Âä®ÈÖçÁΩÆÂ†ÜÊ†àÈÉΩÁõëÂê¨ÊâÄÊúâÂëΩÂêçÁ©∫Èó¥„ÄÇÂ¶ÇÊûúÊÇ®ÊÉ≥Â∞Ü‰∏Ä‰∏™Â†ÜÊ†àÈôêÂà∂Âú®ÁâπÂÆöÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÂèØ‰ª•Âú® <code>bw-autoconf</code> ÊúçÂä°‰∏≠ËÆæÁΩÆ <code>NAMESPACES</code> ÁéØÂ¢ÉÂèòÈáèÔºö</p>
<div class="highlight"><pre><span></span><code><span class="nn">...</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">bunkerweb</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb:testing-rc3</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">global</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.INSTANCE=yes&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;bunkerweb.NAMESPACE=my-namespace&quot;</span><span class="w"> </span><span class="c1"># ‰∏∫ BunkerWeb ÂÆû‰æãËÆæÁΩÆÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">  </span><span class="nt">bw-autoconf</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bunkerity/bunkerweb-autoconf:testing-rc3</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">NAMESPACES</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-namespace</span><span class="nv"> </span><span class="s">my-other-namespace&quot;</span><span class="w"> </span><span class="c1"># Âè™ÁõëÂê¨Ëøô‰∫õÂëΩÂêçÁ©∫Èó¥</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">...</span>
<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">constraints</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;node.role</span><span class="nv"> </span><span class="s">==</span><span class="nv"> </span><span class="s">worker&quot;</span>
<span class="nn">...</span>
</code></pre></div>
<p>ËØ∑ËÆ∞‰ΩèÔºå<code>NAMESPACES</code> ÁéØÂ¢ÉÂèòÈáèÊòØ‰∏Ä‰∏™‰ª•Á©∫Ê†ºÂàÜÈöîÁöÑÂëΩÂêçÁ©∫Èó¥ÂàóË°®„ÄÇ</p>
</div>
<div class="admonition warning">
<p class="admonition-title">ÂëΩÂêçÁ©∫Èó¥ËßÑËåÉ</p>
<p>ÊØè‰∏™ÂëΩÂêçÁ©∫Èó¥Âè™ËÉΩÊúâ<strong>‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì</strong>Âíå<strong>‰∏Ä‰∏™Ë∞ÉÂ∫¶Âô®</strong>„ÄÇÂ¶ÇÊûúÊÇ®Â∞ùËØïÂú®Âêå‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥‰∏≠ÂàõÂª∫Â§ö‰∏™Êï∞ÊçÆÂ∫ìÊàñË∞ÉÂ∫¶Âô®ÔºåÈÖçÁΩÆÊúÄÁªà‰ºöÁõ∏‰∫íÂÜ≤Á™Å„ÄÇ</p>
<p>Ë∞ÉÂ∫¶Âô®‰∏çÈúÄË¶Å <code>NAMESPACE</code> Ê†áÁ≠æÂç≥ÂèØÊ≠£Â∏∏Â∑•‰Ωú„ÄÇÂÆÉÂè™ÈúÄË¶ÅÊ≠£Á°ÆÈÖçÁΩÆ <code>DATABASE_URI</code> ËÆæÁΩÆÔºå‰ª•‰æøÂÆÉÂèØ‰ª•ËÆøÈóÆ‰∏éËá™Âä®ÈÖçÁΩÆÊúçÂä°Áõ∏ÂêåÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ</p>
</div>
<h2 id="microsoft-azure">Microsoft Azure</h2>
<figure>
<p><img align="center," alt="Ê¶ÇËø∞" src="../../assets/img/integration-azure.webp" width="600" />
  </p>
<figcaption>Azure ÈõÜÊàê</figcaption>
</figure>
<div class="admonition info">
<p class="admonition-title">Êé®ËçêÁöÑËôöÊãüÊú∫Â§ßÂ∞è</p>
<p>ËØ∑Âú®ÈÄâÊã©ËôöÊãüÊú∫ÁöÑ SKU Êó∂Ê≥®ÊÑè„ÄÇÊÇ®ÂøÖÈ°ªÈÄâÊã©‰∏é Gen2 ËôöÊãüÊú∫ÂÖºÂÆπÁöÑ SKUÔºåÊàë‰ª¨Âª∫ËÆÆ‰ªé B2s Êàñ Ds2 Á≥ªÂàóÂºÄÂßã‰ª•Ëé∑ÂæóÊúÄ‰Ω≥‰ΩøÁî®ÊïàÊûú„ÄÇ</p>
</div>
<p>ÊÇ®ÂèØ‰ª•ËΩªÊùæÂú∞ÈÄöËøáÂ§öÁßçÊñπÂºèÂú®ÊÇ®ÁöÑ Azure ËÆ¢ÈòÖ‰∏äÈÉ®ÁΩ≤ BunkerWebÔºö</p>
<ul>
<li>Cloud Shell ‰∏≠ÁöÑ Azure CLI</li>
<li>Azure ARM Ê®°Êùø</li>
<li>ÈÄöËøá Marketplace ÁöÑ Azure Èó®Êà∑</li>
</ul>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Cloud Shell</label><label for="__tabbed_2_2">ARM Ê®°Êùø</label><label for="__tabbed_2_3">Marketplace</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>ÂàõÂª∫‰∏Ä‰∏™ËµÑÊ∫êÁªÑ„ÄÇÊõøÊç¢ÂÄº <code>RG_NAME</code></p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>group<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span><span class="s2">&quot;RG_NAME&quot;</span><span class="w"> </span>--location<span class="w"> </span><span class="s2">&quot;LOCATION&quot;</span>
</code></pre></div>
<p>Âú®ËµÑÊ∫êÁªÑÁöÑ‰ΩçÁΩÆÂàõÂª∫‰∏Ä‰∏™ <code>Standard_B2s</code> SKU ÁöÑËôöÊãüÊú∫„ÄÇÊõøÊç¢ÂÄº <code>RG_NAME</code>, <code>VM_NAME</code>, <code>VNET_NAME</code>, <code>SUBNET_NAME</code></p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>vm<span class="w"> </span>create<span class="w"> </span>--resource-group<span class="w"> </span><span class="s2">&quot;RG_NAME&quot;</span><span class="w"> </span>--name<span class="w"> </span><span class="s2">&quot;VM_NAME&quot;</span><span class="w"> </span>--image<span class="w"> </span>bunkerity:bunkerweb:bunkerweb:latest<span class="w"> </span>--accept-term<span class="w"> </span>--generate-ssh-keys<span class="w"> </span>--vnet-name<span class="w"> </span><span class="s2">&quot;VNET_NAME&quot;</span><span class="w"> </span>--size<span class="w"> </span>Standard_B2s<span class="w"> </span>--subnet<span class="w"> </span><span class="s2">&quot;SUBNET_NAME&quot;</span>
</code></pre></div>
<p>ÂÆåÊï¥ÂëΩ‰ª§„ÄÇÊõøÊç¢ÂÄº <code>RG_NAME</code>, <code>VM_NAME</code>, <code>LOCATION</code>, <code>HOSTNAME</code>, <code>USERNAME</code>, <code>PUBLIC_IP</code>, <code>VNET_NAME</code>, <code>SUBNET_NAME</code>, <code>NSG_NAME</code></p>
<div class="highlight"><pre><span></span><code>az<span class="w"> </span>vm<span class="w"> </span>create<span class="w"> </span>--resource-group<span class="w"> </span><span class="s2">&quot;RG_NAME&quot;</span><span class="w"> </span>--name<span class="w"> </span><span class="s2">&quot;VM_NAME&quot;</span><span class="w"> </span>--location<span class="w"> </span><span class="s2">&quot;LOCATION&quot;</span><span class="w"> </span>--image<span class="w"> </span>bunkerity:bunkerweb:bunkerweb:latest<span class="w"> </span>--accept-term<span class="w"> </span>--generate-ssh-keys<span class="w"> </span>--computer-name<span class="w"> </span><span class="s2">&quot;HOSTNAME&quot;</span><span class="w"> </span>--admin-username<span class="w"> </span><span class="s2">&quot;USERNAME&quot;</span><span class="w"> </span>--public-ip-address<span class="w"> </span><span class="s2">&quot;PUBLIC_IP&quot;</span><span class="w"> </span>--public-ip-address-allocation<span class="w"> </span>Static<span class="w"> </span>--size<span class="w"> </span>Standard_B2s<span class="w"> </span>--public-ip-sku<span class="w"> </span>Standard<span class="w"> </span>--os-disk-delete-option<span class="w"> </span>Delete<span class="w"> </span>--nic-delete-option<span class="w"> </span>Delete<span class="w"> </span>--vnet-name<span class="w"> </span><span class="s2">&quot;VNET_NAME&quot;</span><span class="w"> </span>--subnet<span class="w"> </span><span class="s2">&quot;SUBNET_NAME&quot;</span><span class="w"> </span>--nsg<span class="w"> </span><span class="s2">&quot;NSG_NAME&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="admonition info">
<p class="admonition-title">ÊùÉÈôêË¶ÅÊ±Ç</p>
<p>Ë¶ÅÈÉ®ÁΩ≤ ARM Ê®°ÊùøÔºåÊÇ®ÈúÄË¶ÅÂØπÊÇ®Ê≠£Âú®ÈÉ®ÁΩ≤ÁöÑËµÑÊ∫êÂÖ∑ÊúâÂÜôÂÖ•ÊùÉÈôêÔºåÂπ∂ÊúâÊùÉËÆøÈóÆ Microsoft.Resources/deployments ËµÑÊ∫êÁ±ªÂûãÁöÑÊâÄÊúâÊìç‰Ωú„ÄÇ
Ë¶ÅÈÉ®ÁΩ≤ËôöÊãüÊú∫ÔºåÊÇ®ÈúÄË¶Å Microsoft.Compute/virtualMachines/write Âíå Microsoft.Resources/deployments/* ÊùÉÈôê„ÄÇwhat-if Êìç‰ΩúÂÖ∑ÊúâÁõ∏ÂêåÁöÑÊùÉÈôêË¶ÅÊ±Ç„ÄÇ</p>
</div>
<p>ÈÉ®ÁΩ≤ ARM Ê®°ÊùøÔºö</p>
<p><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fbunkerity%2Fbunkerweb%2Fmaster%2Fmisc%2Fintegrations%2Fazure-arm-template.json" target="_blank"><img alt="ÈÉ®ÁΩ≤Âà∞ Azure" src="../../assets/img/integration-azure-deploy.svg" /></a></p>
</div>
<div class="tabbed-block">
<p>ÁôªÂΩïÂà∞ <a href="https://portal.azure.com" target="_blank">Azure Èó®Êà∑</a>„ÄÇ</p>
<p>‰ªé<a href="https://portal.azure.com/#view/Microsoft_Azure_Marketplace/GalleryItemDetailsBladeNopdl/id/bunkerity.bunkerweb" target="_blank">ÂàõÂª∫ËµÑÊ∫êËèúÂçï</a>Ëé∑Âèñ BunkerWeb„ÄÇ</p>
<p>ÊÇ®‰πüÂèØ‰ª•ÈÄöËøá <a href="https://azuremarketplace.microsoft.com/fr-fr/marketplace/apps/bunkerity.bunkerweb?tab=Overview" target="_blank">Marketplace</a>„ÄÇ</p>
</div>
</div>
</div>
<p>ÊÇ®ÂèØ‰ª•ÈÄöËøáÊµèËßàËôöÊãüÊú∫ÁöÑ <code>https://your-ip-address/setup</code> URI Êù•ËÆøÈóÆËÆæÁΩÆÂêëÂØº„ÄÇ</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; <script>document.write(new Date().getFullYear())</script> Bunkerity
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://discord.com/invite/fTf46FmtyD" target="_blank" rel="noopener" title="discord.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/bunkerity" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/bunkerity/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.reddit.com/r/BunkerWeb/" target="_blank" rel="noopener" title="www.reddit.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256m349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6 11.8-39.3 28.5-39.3 31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/bunkerweb/" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M224.3 141a115 115 0 1 0-.6 230 115 115 0 1 0 .6-230m-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1-.6-149.2m93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1-53.6 0m129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/bunkerity" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "toc.integrate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike", "version": "latest"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
        <script src="../../assets/extra.js"></script>
      
        <script src="https://chatbot.bunkerweb.io/static/js/chatbot.js"></script>
      
        <script src="../../assets/preserve-version-on-language-switch.js"></script>
      
        <script src="../../assets/toc-dropdown.js"></script>
      
    
  </body>
</html>